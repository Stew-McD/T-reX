%% Generated by Sphinx.
\def\sphinxdocclass{report}
\documentclass[letterpaper,10pt,english]{sphinxmanual}
\ifdefined\pdfpxdimen
   \let\sphinxpxdimen\pdfpxdimen\else\newdimen\sphinxpxdimen
\fi \sphinxpxdimen=.75bp\relax
\ifdefined\pdfimageresolution
    \pdfimageresolution= \numexpr \dimexpr1in\relax/\sphinxpxdimen\relax
\fi
%% let collapsible pdf bookmarks panel have high depth per default
\PassOptionsToPackage{bookmarksdepth=5}{hyperref}

\PassOptionsToPackage{booktabs}{sphinx}
\PassOptionsToPackage{colorrows}{sphinx}

\PassOptionsToPackage{warn}{textcomp}
\usepackage[utf8]{inputenc}
\ifdefined\DeclareUnicodeCharacter
% support both utf8 and utf8x syntaxes
  \ifdefined\DeclareUnicodeCharacterAsOptional
    \def\sphinxDUC#1{\DeclareUnicodeCharacter{"#1}}
  \else
    \let\sphinxDUC\DeclareUnicodeCharacter
  \fi
  \sphinxDUC{00A0}{\nobreakspace}
  \sphinxDUC{2500}{\sphinxunichar{2500}}
  \sphinxDUC{2502}{\sphinxunichar{2502}}
  \sphinxDUC{2514}{\sphinxunichar{2514}}
  \sphinxDUC{251C}{\sphinxunichar{251C}}
  \sphinxDUC{2572}{\textbackslash}
\fi
\usepackage{cmap}
\usepackage[T1]{fontenc}
\usepackage{amsmath,amssymb,amstext}
\usepackage{babel}



\usepackage{tgtermes}
\usepackage{tgheros}
\renewcommand{\ttdefault}{txtt}



\usepackage[Bjarne]{fncychap}
\usepackage{sphinx}

\fvset{fontsize=auto}
\usepackage{geometry}


% Include hyperref last.
\usepackage{hyperref}
% Fix anchor placement for figures with captions.
\usepackage{hypcap}% it must be loaded after hyperref.
% Set up styles of URL: it should be placed after hyperref.
\urlstyle{same}

\addto\captionsenglish{\renewcommand{\contentsname}{Contents:}}

\usepackage{sphinxmessages}
\setcounter{tocdepth}{1}



\title{WasteAndMaterialFootprint Documentation}
\date{Dec 28, 2023}
\release{0.1.2}
\author{Stewart Charles McDowall}
\newcommand{\sphinxlogo}{\vbox{}}
\renewcommand{\releasename}{Release}
\makeindex
\begin{document}

\ifdefined\shorthandoff
  \ifnum\catcode`\=\string=\active\shorthandoff{=}\fi
  \ifnum\catcode`\"=\active\shorthandoff{"}\fi
\fi

\pagestyle{empty}
\sphinxmaketitle
\pagestyle{plain}
\sphinxtableofcontents
\pagestyle{normal}
\phantomsection\label{\detokenize{index::doc}}


\sphinxstepscope


\chapter{Introduction}
\label{\detokenize{intro:introduction}}\label{\detokenize{intro::doc}}
\sphinxAtStartPar
The WasteAndMaterialFootprint tool is a python package that allows one to calculate the waste and material footprint of any product or service inside of life cycle assessment (LCA) databases. Currently is has been tested with ecoinvent 3.8, 3.9, 3.9.1 and 3.10.

\sphinxstepscope


\chapter{Installation}
\label{\detokenize{installation:installation}}\label{\detokenize{installation::doc}}

\section{Dependencies}
\label{\detokenize{installation:dependencies}}
\sphinxAtStartPar
The program is written in Python and the required packages are listed in the \sphinxtitleref{requirements.txt} file. These should be installed automatically when installing the program.

\sphinxAtStartPar
The main dependencies are:
\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxhref{https://docs.brightway.dev}{brightway2 components: bw2io, bw2data, bw2calc}

\item {} 
\sphinxAtStartPar
\sphinxhref{https://premise.readthedocs.io}{premise}

\item {} 
\sphinxAtStartPar
\sphinxhref{https://wurst.readthedocs.io}{wurst}

\end{itemize}


\section{Installation Instructions}
\label{\detokenize{installation:installation-instructions}}
\sphinxAtStartPar
\sphinxstylestrong{It is recommended to use a fresh virtual environment to install the program.}

\sphinxAtStartPar
You can simply clone or download the repo and run it without installation:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
python\PYG{+w}{ }venv\PYG{+w}{ }\PYGZhy{}m\PYG{+w}{ }\PYGZlt{}name\PYGZgt{}
\PYG{n+nb}{source}\PYG{+w}{ }\PYGZlt{}name\PYGZgt{}/bin/activate
\end{sphinxVerbatim}

\sphinxAtStartPar
This will not install any of the dependencies, so you will need to install them manually if you don’t already have them.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
pip\PYG{+w}{ }install\PYG{+w}{ }\PYGZhy{}r\PYG{+w}{ }requirements.txt
\end{sphinxVerbatim}

\sphinxAtStartPar
Alternatively: the program can be installed using pip:

\sphinxAtStartPar
Either from PyPI:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
pip\PYG{+w}{ }install\PYG{+w}{ }WasteAndMaterialFootprint
\end{sphinxVerbatim}

\sphinxAtStartPar
Or, probably best to install the latest version from GitHub:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
pip\PYG{+w}{ }install\PYG{+w}{ }git+https://github.com/Stew\PYGZhy{}McD/WasteAndMaterialFootprint.git
\end{sphinxVerbatim}

\sphinxAtStartPar
Or for an editable install (good for development and testing):

\begin{sphinxVerbatim}[commandchars=\\\{\}]
git\PYG{+w}{ }clone\PYG{+w}{ }https://github.com/Stew\PYGZhy{}McD/WasteAndMaterialFootprint.git
\PYG{n+nb}{cd}\PYG{+w}{ }WasteAndMaterialFootprint
pip\PYG{+w}{ }install\PYG{+w}{ }\PYGZhy{}e\PYG{+w}{ }.
\end{sphinxVerbatim}

\sphinxstepscope


\chapter{Usage}
\label{\detokenize{usage:usage}}\label{\detokenize{usage::doc}}
\sphinxAtStartPar
The program can be used directly from the command line, or imported as a Python module. This will run the program using the default settings. See the configuration section for more information on how to change the settings.


\section{Command Line}
\label{\detokenize{usage:command-line}}
\sphinxAtStartPar
You should clone the repo, navigate to the \sphinxcode{\sphinxupquote{WasteAndMaterialFootprint}} folder, and then run the program using:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
python\PYG{+w}{ }src/WasteAndMaterialFootprint/main.py
\end{sphinxVerbatim}

\sphinxAtStartPar
Configuration files can be found in \sphinxtitleref{src/WasteAndMaterialFootprint/config/}. These can be edited before running the main script.


\section{Python Module}
\label{\detokenize{usage:python-module}}
\sphinxAtStartPar
The program can be imported as a Python module if it has been installed with pip. The main function can then be run using:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{import} \PYG{n+nn}{WasteAndMaterialFootprint} \PYG{k}{as} \PYG{n+nn}{wmf}
\PYG{n}{wmf}\PYG{o}{.}\PYG{n}{run}\PYG{p}{(}\PYG{p}{)}
\end{sphinxVerbatim}

\sphinxAtStartPar
As with the command line, the configuration files can be found in \sphinxtitleref{src/WasteAndMaterialFootprint/config/}. These can be edited before running the main script.
It is also possible to edit the configuration settings directly in the Python script, and accessed in interactive terminal sessions like iPython and Jupyter.
For example:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{k+kn}{import} \PYG{n+nn}{WasteAndMaterialFootprint} \PYG{k}{as} \PYG{n+nn}{wmf}

\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{wmf}\PYG{o}{.}\PYG{n}{user\PYGZus{}settings}\PYG{o}{.}\PYG{n}{use\PYGZus{}premise}
\PYG{g+go}{True}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{wmf}\PYG{o}{.}\PYG{n}{user\PYGZus{}settings}\PYG{o}{.}\PYG{n}{use\PYGZus{}wmf}
\PYG{g+go}{False}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{wmf}\PYG{o}{.}\PYG{n}{user\PYGZus{}settings}\PYG{o}{.}\PYG{n}{use\PYGZus{}wmf} \PYG{o}{=} \PYG{k+kc}{True}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{wmf}\PYG{o}{.}\PYG{n}{user\PYGZus{}settings}\PYG{o}{.}\PYG{n}{use\PYGZus{}wmf}
\PYG{g+go}{True}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{wmf}\PYG{o}{.}\PYG{n}{user\PYGZus{}settings}\PYG{o}{.}\PYG{n}{project\PYGZus{}base}
\PYG{g+go}{\PYGZsq{}SSP\PYGZhy{}cutoff\PYGZsq{}}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{wmf}\PYG{o}{.}\PYG{n}{user\PYGZus{}settings}\PYG{o}{.}\PYG{n}{project\PYGZus{}base} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{other project}\PYG{l+s+s2}{\PYGZdq{}}
\PYG{g+gp}{\PYGZgt{}\PYGZgt{}\PYGZgt{} }\PYG{n}{wmf}\PYG{o}{.}\PYG{n}{user\PYGZus{}settings}\PYG{o}{.}\PYG{n}{project\PYGZus{}base}
\PYG{g+go}{\PYGZsq{}other project\PYGZsq{}}
\end{sphinxVerbatim}

\sphinxAtStartPar
The individual modules can also be imported and used separately. For example:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k+kn}{import} \PYG{n+nn}{WasteAndMaterialFootprint} \PYG{k}{as} \PYG{n+nn}{wmf}

\PYG{c+c1}{\PYGZsh{} only use premise}
\PYG{n}{wmf}\PYG{o}{.}\PYG{n}{FutureScenarios}\PYG{o}{.}\PYG{n}{MakeFutureScenarios}\PYG{p}{(}\PYG{p}{)}

\PYG{c+c1}{\PYGZsh{} only do waste or material searches}
\PYG{n}{database} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{my database}\PYG{l+s+s1}{\PYGZsq{}}
\PYG{n}{project} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{my project}\PYG{l+s+s1}{\PYGZsq{}}
\PYG{n}{wmf}\PYG{o}{.}\PYG{n}{ExplodeDatabase}\PYG{p}{(}\PYG{n}{project}\PYG{p}{,} \PYG{n}{database}\PYG{p}{)}
\PYG{n}{wmf}\PYG{o}{.}\PYG{n}{SearchWaste}\PYG{p}{(}\PYG{n}{project}\PYG{p}{,} \PYG{n}{database}\PYG{p}{)}
\PYG{n}{wmf}\PYG{o}{.}\PYG{n}{SearchMaterial}\PYG{p}{(}\PYG{n}{project}\PYG{p}{,} \PYG{n}{database}\PYG{p}{)}

\PYG{c+c1}{\PYGZsh{} check databases}

\PYG{n}{wmf}\PYG{o}{.}\PYG{n}{VerifyDatabase}\PYG{p}{(}\PYG{n}{project}\PYG{p}{,} \PYG{n}{database}\PYG{p}{)}

\PYG{c+c1}{\PYGZsh{} or with the internal settings:}

\PYG{n}{database} \PYG{o}{=} \PYG{n}{wmf}\PYG{o}{.}\PYG{n}{user\PYGZus{}settings}\PYG{o}{.}\PYG{n}{database\PYGZus{}name}

\PYG{c+c1}{\PYGZsh{} check original database}
\PYG{n}{project\PYGZus{}base} \PYG{o}{=} \PYG{n}{wmf}\PYG{o}{.}\PYG{n}{user\PYGZus{}settings}\PYG{o}{.}\PYG{n}{project\PYGZus{}base}
\PYG{n}{wmf}\PYG{o}{.}\PYG{n}{VerifyDatabase}\PYG{p}{(}\PYG{n}{project\PYGZus{}base}\PYG{p}{,} \PYG{n}{database}\PYG{p}{)}
\PYG{c+c1}{\PYGZsh{} (this will return \PYGZsq{}0\PYGZsq{}, because it was not edited)}

\PYG{c+c1}{\PYGZsh{} check final database}
\PYG{n}{project} \PYG{o}{=} \PYG{n}{wmf}\PYG{o}{.}\PYG{n}{user\PYGZus{}settings}\PYG{o}{.}\PYG{n}{project\PYGZus{}wmf}
\PYG{n}{wmf}\PYG{o}{.}\PYG{n}{VerifyDatabase}\PYG{p}{(}\PYG{n}{project}\PYG{p}{,} \PYG{n}{database}\PYG{p}{)}
\PYG{c+c1}{\PYGZsh{} (this will return \PYGZsq{}1\PYGZsq{}, if it was edited correctly)}
\end{sphinxVerbatim}

\sphinxstepscope


\chapter{Configuration modules}
\label{\detokenize{configuration:configuration-modules}}\label{\detokenize{configuration::doc}}
\sphinxAtStartPar
By default, the program will create a folder \sphinxcode{\sphinxupquote{config}} in the current working directory containing the default configuration files:


\section{General Settings: \sphinxstyleliteralintitle{\sphinxupquote{user\_settings.py}}}
\label{\detokenize{configuration:general-settings-user-settings-py}}
\sphinxAtStartPar
This is the main configuration file, the one that you might want to edit to match your project structure and your needs. By default, the program will take a brightway2 project named \sphinxcode{\sphinxupquote{default}} and copy that to a new project named \sphinxcode{\sphinxupquote{SSP\sphinxhyphen{}cutoff}}, which is then copied to a new project named \sphinxcode{\sphinxupquote{WMFootprint\sphinxhyphen{}SSP\sphinxhyphen{}cutoff}}.

\sphinxAtStartPar
Doing it this way isolates the components and allows you to keep your original brightway2 project as it was. If space is an issue, you can set all of the project names to be the same.

\sphinxAtStartPar
If you are happy with the default settings, you can just run the program and it will create the databases for you. If you want to change the settings, you can edit the \sphinxcode{\sphinxupquote{user\_settings.py}} file that you can find in the \sphinxcode{\sphinxupquote{config}} directory of your working directory.

\sphinxAtStartPar
These are some extracts from \sphinxcode{\sphinxupquote{user\_settings.py}} with the most important settings (the ones you might want to change) and their default values:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{c+c1}{\PYGZsh{} Choose whether to use premise to create future scenario databases}
\PYG{n}{use\PYGZus{}premise} \PYG{o}{=} \PYG{k+kc}{True}
\PYG{c+c1}{\PYGZsh{} Choose whether to use WasteAndMaterialFootprint to edit the databases (you could also turn this off and just use the package as an easy way to make a set of future scenario databases)}
\PYG{n}{use\PYGZus{}wmf} \PYG{o}{=} \PYG{k+kc}{True}

\PYG{c+c1}{\PYGZsh{} Choose the names of the projects to use}
\PYG{n}{project\PYGZus{}premise\PYGZus{}base} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{default}\PYG{l+s+s2}{\PYGZdq{}}
\PYG{n}{project\PYGZus{}premise} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{SSP\PYGZhy{}cutoff}\PYG{l+s+s2}{\PYGZdq{}}
\PYG{n}{project\PYGZus{}base} \PYG{o}{=} \PYG{n}{project\PYGZus{}premise}
\PYG{n}{project\PYGZus{}wmf} \PYG{o}{=} \PYG{l+s+sa}{f}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{WMFootprint\PYGZhy{}}\PYG{l+s+si}{\PYGZob{}}\PYG{n}{project\PYGZus{}base}\PYG{l+s+si}{\PYGZcb{}}\PYG{l+s+s2}{\PYGZdq{}}

\PYG{c+c1}{\PYGZsh{} Choose the name of the database to use (needed for premise only, the WMF tool will run all databases except the biospheres)}
\PYG{n}{database\PYGZus{}name} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{ecoinvent\PYGZhy{}3.9.1\PYGZhy{}cutoff}\PYG{l+s+s2}{\PYGZdq{}}

\PYG{c+c1}{\PYGZsh{} if you want to use a fresh project}
\PYG{n}{delete\PYGZus{}existing\PYGZus{}premise\PYGZus{}project} \PYG{o}{=} \PYG{k+kc}{False}
\PYG{n}{delete\PYGZus{}existing\PYGZus{}wmf\PYGZus{}project} \PYG{o}{=} \PYG{k+kc}{False}

\PYG{c+c1}{\PYGZsh{} Choose the premise scenarios to generate (see FutureScenarios.py for more details)}
\PYG{c+c1}{\PYGZsh{} Not all combinations are available, the code in FutureScenarios.py will filter out the scenarios that are not possible}
\PYG{c+c1}{\PYGZsh{} the default is to have an optimistic and a pessimistic scenario with SSP2 for 2030, 2065 and 2100}

\PYG{n}{models} \PYG{o}{=} \PYG{p}{[}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{remind}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{]}
\PYG{n}{ssps} \PYG{o}{=} \PYG{p}{[}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{SSP2}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{]}
\PYG{n}{rcps} \PYG{o}{=} \PYG{p}{[}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Base}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{PkBudg500}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{]}
\PYG{n}{years} \PYG{o}{=} \PYG{p}{[}\PYG{l+m+mi}{2030}\PYG{p}{,}\PYG{l+m+mi}{2065}\PYG{p}{,}\PYG{l+m+mi}{2100}\PYG{p}{,}\PYG{p}{]}
\end{sphinxVerbatim}


\section{Waste Search Settings: \sphinxstyleliteralintitle{\sphinxupquote{queries\_waste.py}}}
\label{\detokenize{configuration:waste-search-settings-queries-waste-py}}
\sphinxAtStartPar
This file sets up search parameters for different waste and material flow categories, crucial for the \sphinxcode{\sphinxupquote{SearchWaste.py}} script. It leverages a \sphinxcode{\sphinxupquote{.pickle}} file created by \sphinxcode{\sphinxupquote{ExplodeDatabase.py}}.


\subsection{Categories}
\label{\detokenize{configuration:categories}}
\sphinxAtStartPar
Handles various categories like digestion, composting, incineration, recycling, landfill, etc.


\subsection{Query Types}
\label{\detokenize{configuration:query-types}}
\sphinxAtStartPar
Two sets of queries are created:
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{queries\_kg}} for waste flows in kilograms.

\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{queries\_m3}} for waste flows in cubic meters.

\end{enumerate}


\subsection{Adjusting Search Terms}
\label{\detokenize{configuration:adjusting-search-terms}}\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Search Keywords}: Tweak the \sphinxcode{\sphinxupquote{AND}}, \sphinxcode{\sphinxupquote{OR}}, \sphinxcode{\sphinxupquote{NOT}} lists to refine your search.

\end{itemize}


\subsection{Category\sphinxhyphen{}Specific Changes}
\label{\detokenize{configuration:category-specific-changes}}\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Adding Categories}: You can add new categories to the \sphinxcode{\sphinxupquote{names}} list.

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Modifying Queries}: Update the query parameters for each category based on your requirements.

\end{itemize}


\subsection{Optimising Search Efficiency}
\label{\detokenize{configuration:optimising-search-efficiency}}
\sphinxAtStartPar
You can choose to include or exclude whatever you want. For instance, “non\sphinxhyphen{}hazardous” is not included as it’s derivable from other categories and slows down the process.


\subsection{Validating Search Terms}
\label{\detokenize{configuration:validating-search-terms}}
\sphinxAtStartPar
Isolate the function of \sphinxcode{\sphinxupquote{SearchWaste.py}} to validate your search terms. That means, turning off the other functions in \sphinxcode{\sphinxupquote{user\_settings.py}}, or running the module directly. You can achieve this by setting the following in \sphinxcode{\sphinxupquote{user\_settings.py}}:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{use\PYGZus{}premise} \PYG{o}{=} \PYG{k+kc}{False}
\PYG{n}{do\PYGZus{}search} \PYG{o}{=} \PYG{k+kc}{True}
\PYG{n}{do\PYGZus{}methods} \PYG{o}{=} \PYG{k+kc}{False}
\PYG{n}{do\PYGZus{}edit} \PYG{o}{=} \PYG{k+kc}{False}
\end{sphinxVerbatim}


\section{Material Search Settings: \sphinxstyleliteralintitle{\sphinxupquote{queries\_materials.py}}}
\label{\detokenize{configuration:material-search-settings-queries-materials-py}}
\sphinxAtStartPar
The \sphinxcode{\sphinxupquote{queries\_materials}} module creates demand methods in the WasteAndMaterialFootprint tool. It aligns with the EU CRM list 2023 and the ecoinvent database, incorporating additional strategic materials for comprehensive analysis. More can be easily added, as wished by the user.

\sphinxAtStartPar
This function uses the string tests \sphinxcode{\sphinxupquote{startswith}} in \sphinxcode{\sphinxupquote{SearchMaterial.py}} to identify activities beginning with the specified material name. This allows one to be more specific with the search terms (the \sphinxcode{\sphinxupquote{,}} can be critical sometimes).


\subsection{Structure and Customisation}
\label{\detokenize{configuration:structure-and-customisation}}

\subsubsection{Tuple Structure}
\label{\detokenize{configuration:tuple-structure}}\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxstylestrong{First Part (Activity Name)}: Specifies the exact activity in the database (e.g., \sphinxcode{\sphinxupquote{market for chromium}}).

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Second Part (Material Category)}: Aggregates related activities under a common category (e.g., \sphinxcode{\sphinxupquote{chromium}}), enhancing data processing efficiency.

\end{itemize}


\subsubsection{Customisation Options}
\label{\detokenize{configuration:customisation-options}}\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Add or Remove Materials}: Adapt the tuple list by including new materials or removing irrelevant ones.

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Refine Search Terms}: Update material categories for a better fit with your database, ensuring precision in naming, especially with the use of commas.

\end{itemize}


\subsection{Usage Considerations}
\label{\detokenize{configuration:usage-considerations}}\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Material Quantity}: The current list comprises over 40 materials. Modify this count to suit your project’s scope.

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Database Alignment}: Check that the material names correspond with your specific database version, like ecoinvent v3.9.1.

\end{itemize}


\subsubsection{Example Tuples}
\label{\detokenize{configuration:example-tuples}}\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{("market for chromium", "chromium")}}

\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{("market for coal", "coal")}}

\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{("market for cobalt", "cobalt")}}

\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{("market for coke", "coke")}}

\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{("market for copper", "copper")}}

\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{("market for tap water", "water")}}

\item {} 
\sphinxAtStartPar
\sphinxcode{\sphinxupquote{("market for water,", "water")}}

\end{itemize}

\sphinxstepscope


\chapter{WasteAndMaterialFootprint Modules}
\label{\detokenize{modules:wasteandmaterialfootprint-modules}}\label{\detokenize{modules::doc}}
\sphinxAtStartPar
This section provides an overview of the various modules within the WasteAndMaterialFootprint (WMF) program, each with a brief description and a link to its detailed documentation.

\sphinxstepscope


\section{FutureScenarios}
\label{\detokenize{FutureScenarios:futurescenarios}}\label{\detokenize{FutureScenarios::doc}}
\sphinxAtStartPar
The \sphinxtitleref{FutureScenarios} module is an integral part of the WasteAndMaterialFootprint project, enabling the creation of future scenario databases. It leverages the {[}premise{]}(\sphinxurl{https://github.com/polca-project/premise}) Python package to generate future scenario databases based on integrated assessment models (IAMs) for brightway2 projects.


\subsection{Configuration}
\label{\detokenize{FutureScenarios:configuration}}
\sphinxAtStartPar
Before using the \sphinxtitleref{FutureScenarios} module, it’s crucial to set up your desired scenarios in the \sphinxtitleref{user\_settings.py} file. This configuration determines the specific scenarios the module will process.


\subsubsection{Configuring Projects and Premise Settings}
\label{\detokenize{FutureScenarios:configuring-projects-and-premise-settings}}\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Project Settings}: Define the base and target projects for the scenarios. For instance, \sphinxtitleref{project\_premise\_base} as the source, and \sphinxtitleref{project\_premise} as the destination project.

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Database Selection}: Specify the database to use, like \sphinxtitleref{ecoinvent\sphinxhyphen{}3.9.1\sphinxhyphen{}cutoff}.

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Premise Key}: A key is required for accessing premise functionality. It can be hardcoded or read from a file.

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Multiprocessing and Batch Size}: Decide on using multiprocessing and the size of batches to process scenarios.

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Deletion Settings}: Choose whether to delete existing projects before creating new ones.

\end{itemize}


\subsubsection{Selecting Scenarios}
\label{\detokenize{FutureScenarios:selecting-scenarios}}
\sphinxAtStartPar
Define the models, SSPs (Shared Socioeconomic Pathways), RCPs (Representative Concentration Pathways), and years you want to explore. The script will then attempt to create databases for each combination of these parameters, provided they are available.


\subsection{Implementation}
\label{\detokenize{FutureScenarios:implementation}}

\subsubsection{Module Overview}
\label{\detokenize{FutureScenarios:module-overview}}
\sphinxAtStartPar
The \sphinxtitleref{FutureScenarios} module consists of several key functions and a main script that orchestrates the entire process of creating future scenario databases.


\subsubsection{Key Functions}
\label{\detokenize{FutureScenarios:key-functions}}\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxstylestrong{make\_possible\_scenario\_list}: Generates a list of feasible scenarios based on user preferences and available data.

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{check\_existing}: Checks if a scenario already exists in the project to avoid redundancy.

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{FutureScenarios}: The core function that invokes the \sphinxtitleref{premise} module to create new databases for each specified scenario.

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{MakeFutureScenarios}: The main function that calls \sphinxtitleref{FutureScenarios} if the \sphinxtitleref{use\_premise} flag is set to True.

\end{itemize}


\subsubsection{Process Flow}
\label{\detokenize{FutureScenarios:process-flow}}\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Initialisation}: The script starts by importing necessary libraries and user settings. It sets up logging and changes the working directory if necessary.

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Scenario Filtering}: It filters out unavailable or existing scenarios.

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Project Preparation}: Depending on user settings, it either uses an existing project or creates a new one.

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Scenario Processing}: For each scenario, it calls \sphinxtitleref{premise} to update or create a database reflecting that scenario.

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Database Writing}: After processing, the script writes the new databases to Brightway2.

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Cleanup and Conclusion}: The script concludes by adding GWP factors and returning to the original directory.

\end{enumerate}

\sphinxstepscope


\section{ExplodeDatabase}
\label{\detokenize{ExplodeDatabase:explodedatabase}}\label{\detokenize{ExplodeDatabase::doc}}
\sphinxAtStartPar
The ExplodeDatabase module is the first fundamental component of the WasteAndMaterialFootprint (WMF) tool, designed for
processing Brightway2 life cycle assessment (LCA) databases. It provides a mechanism to expand a given LCA database
into a detailed list of all exchanges, facilitating subsequent analysis with the search modules.


\subsection{Primary Function}
\label{\detokenize{ExplodeDatabase:primary-function}}
\sphinxAtStartPar
The module’s core functionality is to ‘explode’ a Brightway2 database. This term refers to the process of decomposing
the database into a single\sphinxhyphen{}level, comprehensive list of all exchanges. Each exchange in the database is extracted and
documented, including detailed attributes such as name, amount, unit, product, production volume, type, and location.


\subsection{Process Overview}
\label{\detokenize{ExplodeDatabase:process-overview}}\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\item {} 
\sphinxAtStartPar
Utilising the wurst library, the module opens the specified Brightway2 database.

\item {} 
\sphinxAtStartPar
It extracts information from each process in the database.

\item {} 
\sphinxAtStartPar
The extracted data is converted into a pandas DataFrame for ease of analysis and manipulation.

\item {} 
\sphinxAtStartPar
The module then expands (‘explodes’) this DataFrame to detail each exchange individually.

\item {} 
\sphinxAtStartPar
The resulting data, now a comprehensive list of exchanges, is saved in a .pickle binary file for efficient storage
and retrieval.

\end{enumerate}


\subsection{Usage}
\label{\detokenize{ExplodeDatabase:usage}}
\sphinxAtStartPar
The ExplodeDatabase function is invoked with a single argument, the name of the Brightway2 database to be processed.
It performs the exploding process, logs the operation, and saves the resulting DataFrame as a pickle file. The function
is designed for internal use within the WMF tool and does not return a value but rather saves the output for subsequent
use.

\sphinxstepscope


\section{SearchWaste}
\label{\detokenize{SearchWaste:searchwaste}}\label{\detokenize{SearchWaste::doc}}
\sphinxAtStartPar
The SearchWaste module is a part of the WasteAndMaterialFootprint tool, dedicated to processing waste\sphinxhyphen{}related data.
It loads data from a specified ‘\textless{} db name \textgreater{}\_exploded.pickle’ file, executes predefined search queries on this data,
and generates CSV files containing the results along with corresponding log entries. The search queries are
structured as dictionaries, specified in the \sphinxtitleref{config/queries\_waste.py} file, and include fields such as NAME,
CODE, and search terms like keywords\_AND, keywords\_OR, and keywords\_NOT.


\subsection{Functionality}
\label{\detokenize{SearchWaste:functionality}}
\sphinxAtStartPar
The module provides the \sphinxcode{\sphinxupquote{SearchWaste()}} function, which is responsible for three main actions:
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\item {} 
\sphinxAtStartPar
Loading data from the ‘\textless{} db name \textgreater{}\_exploded.pickle’ file.

\end{enumerate}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{pickle\PYGZus{}path} \PYG{o}{=} \PYG{n}{os}\PYG{o}{.}\PYG{n}{path}\PYG{o}{.}\PYG{n}{join}\PYG{p}{(}\PYG{n}{dir\PYGZus{}tmp}\PYG{p}{,} \PYG{n}{db\PYGZus{}name} \PYG{o}{+} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{\PYGZus{}exploded.pickle}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
\PYG{n}{df} \PYG{o}{=} \PYG{n}{pd}\PYG{o}{.}\PYG{n}{read\PYGZus{}pickle}\PYG{p}{(}\PYG{n}{pickle\PYGZus{}path}\PYG{p}{)}
\end{sphinxVerbatim}
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\setcounter{enumi}{1}
\item {} 
\sphinxAtStartPar
Running the specified search queries on this data. These queries are designed to filter and identify
relevant waste exchanges based on specific criteria.

\sphinxAtStartPar
This functionality is implemented in the \sphinxcode{\sphinxupquote{search()}} function, which is a subfunction of the \sphinxcode{\sphinxupquote{SearchWaste()}} function.
The \sphinxcode{\sphinxupquote{search()}} function takes one argument, a search query from the list that is produced by the configuration module \sphinxtitleref{queries\_waste.py}.

\sphinxAtStartPar
The search function is applied as follows, where \sphinxtitleref{df} is the dataframe of the exploded database and \sphinxtitleref{query} is a dictionary:

\end{enumerate}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{NAME\PYGZus{}BASE} \PYG{o}{=} \PYG{n}{query}\PYG{p}{[}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{name}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{]}
\PYG{n}{UNIT} \PYG{o}{=} \PYG{n}{query}\PYG{p}{[}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{unit}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{]}
\PYG{n}{NAME} \PYG{o}{=} \PYG{n}{NAME\PYGZus{}BASE} \PYG{o}{+} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{\PYGZhy{}}\PYG{l+s+s2}{\PYGZdq{}} \PYG{o}{+} \PYG{n}{UNIT}
\PYG{n}{CODE} \PYG{o}{=} \PYG{n}{NAME}\PYG{o}{.}\PYG{n}{replace}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{ }\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
\PYG{n}{query}\PYG{o}{.}\PYG{n}{update}\PYG{p}{(}\PYG{p}{\PYGZob{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{code}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{n}{NAME}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{db\PYGZus{}name}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{n}{db\PYGZus{}name}\PYG{p}{\PYGZcb{}}\PYG{p}{)}
\PYG{n}{AND} \PYG{o}{=} \PYG{n}{query}\PYG{p}{[}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{AND}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{]}
\PYG{n}{OR} \PYG{o}{=} \PYG{n}{query}\PYG{p}{[}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{OR}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{]}
\PYG{n}{NOT} \PYG{o}{=} \PYG{n}{query}\PYG{p}{[}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{NOT}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{]}
\PYG{n}{DBNAME} \PYG{o}{=} \PYG{n}{query}\PYG{p}{[}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{db\PYGZus{}name}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{]}

\PYG{c+c1}{\PYGZsh{} Apply the search terms to the dataframe}
\PYG{n}{df\PYGZus{}results} \PYG{o}{=} \PYG{n}{df}\PYG{p}{[}
    \PYG{p}{(}\PYG{n}{df}\PYG{p}{[}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{ex\PYGZus{}name}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{]}\PYG{o}{.}\PYG{n}{apply}\PYG{p}{(}\PYG{k}{lambda} \PYG{n}{x}\PYG{p}{:} \PYG{n+nb}{all}\PYG{p}{(}\PYG{n}{i} \PYG{o+ow}{in} \PYG{n}{x} \PYG{k}{for} \PYG{n}{i} \PYG{o+ow}{in} \PYG{n}{AND}\PYG{p}{)}\PYG{p}{)}\PYG{p}{)}
    \PYG{o}{\PYGZam{}} \PYG{p}{(}\PYG{n}{df}\PYG{p}{[}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{ex\PYGZus{}unit}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{]} \PYG{o}{==} \PYG{n}{UNIT}\PYG{p}{)}
    \PYG{o}{\PYGZam{}} \PYG{p}{(}\PYG{n}{df}\PYG{p}{[}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{ex\PYGZus{}amount}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{]} \PYG{o}{!=} \PYG{l+m+mi}{0}\PYG{p}{)}
    \PYG{c+c1}{\PYGZsh{} \PYGZam{} (df[\PYGZdq{}ex\PYGZus{}amount\PYGZdq{}] != \PYGZhy{}1)}
\PYG{p}{]}\PYG{o}{.}\PYG{n}{copy}\PYG{p}{(}\PYG{p}{)}

\PYG{c+c1}{\PYGZsh{} Apply OR and NOT search filters}
\PYG{k}{if} \PYG{n}{OR}\PYG{p}{:}
    \PYG{n}{df\PYGZus{}results} \PYG{o}{=} \PYG{n}{df\PYGZus{}results}\PYG{p}{[}
        \PYG{n}{df\PYGZus{}results}\PYG{p}{[}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{ex\PYGZus{}name}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{]}\PYG{o}{.}\PYG{n}{apply}\PYG{p}{(}\PYG{k}{lambda} \PYG{n}{x}\PYG{p}{:} \PYG{n+nb}{any}\PYG{p}{(}\PYG{n}{i} \PYG{o+ow}{in} \PYG{n}{x} \PYG{k}{for} \PYG{n}{i} \PYG{o+ow}{in} \PYG{n}{OR}\PYG{p}{)}\PYG{p}{)}
    \PYG{p}{]}
\PYG{k}{if} \PYG{n}{NOT}\PYG{p}{:}
    \PYG{n}{df\PYGZus{}results} \PYG{o}{=} \PYG{n}{df\PYGZus{}results}\PYG{p}{[}
        \PYG{n}{df\PYGZus{}results}\PYG{p}{[}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{ex\PYGZus{}name}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{]}\PYG{o}{.}\PYG{n}{apply}\PYG{p}{(}\PYG{k}{lambda} \PYG{n}{x}\PYG{p}{:} \PYG{o+ow}{not} \PYG{n+nb}{any}\PYG{p}{(}\PYG{n}{i} \PYG{o+ow}{in} \PYG{n}{x} \PYG{k}{for} \PYG{n}{i} \PYG{o+ow}{in} \PYG{n}{NOT}\PYG{p}{)}\PYG{p}{)}
    \PYG{p}{]}
\end{sphinxVerbatim}
\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\setcounter{enumi}{2}
\item {} 
\sphinxAtStartPar
Producing CSV files to store the results of these queries and creating log entries for each search operation. When customising the search configuration, it is important to check these files to see that the correct exchanges are being captured. The files are used by the subsequent modules to edit the exchanges and to produce LCIA methods.

\end{enumerate}


\subsection{Usage}
\label{\detokenize{SearchWaste:usage}}
\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{wmf}\PYG{o}{.}\PYG{n}{SearchWaste}\PYG{p}{(}\PYG{n}{db\PYGZus{}name}\PYG{p}{,} \PYG{n}{output\PYGZus{}dir}\PYG{p}{)}
\end{sphinxVerbatim}

\sphinxAtStartPar
The \sphinxcode{\sphinxupquote{SearchWaste()}} function is invoked with two arguments: the name of the Brightway2 database to be processed and the name of the directory to store the results. The search queries are specified in the \sphinxtitleref{config/queries\_waste.py} file. The function is designed for internal use within the WMF tool and does not return a value but rather saves the output for subsequent use. It could be used separately, if you would have a .pickle file with exploded database as well as the config files in the right locations.

\sphinxstepscope


\section{SearchMaterial}
\label{\detokenize{SearchMaterial:searchmaterial}}\label{\detokenize{SearchMaterial::doc}}
\sphinxAtStartPar
The SearchMaterial module’s primary function is to load data from ‘\textless{} db name \textgreater{}\_exploded.pickle’, execute search queries based on the list of materials, and store the results in a CSV file along with a corresponding log entry. The search queries are formatted as tuples, where the first entry is the name of the activity and the second is the material grouping, e.g. \sphinxtitleref{(“market for sodium borates”, “borates”)}. These queries are defined by the list in \sphinxtitleref{queries\_materials.py}, which can be easily modified by the user to change the scope or the groupings as desired.


\subsection{Functionality}
\label{\detokenize{SearchMaterial:functionality}}
\sphinxAtStartPar
The module’s core function, \sphinxcode{\sphinxupquote{SearchMaterial()}}, takes a database name and a Brightway2 project as inputs. It
searches for materials within the specified database, extracts relevant information such as ISIC and CPC
classifications, and saves this information in CSV format. It also extracts and saves related material exchanges and saves them as separate files based on the material grouping. The files are used by the subsequent modules to edit the exchanges and to produce LCIA methods.


\subsection{Search queries}
\label{\detokenize{SearchMaterial:search-queries}}
\sphinxAtStartPar
The module \sphinxtitleref{queries\_material.py} contains the list of materials used to create demand methods in the WasteAndMaterialFootprint tool.
The materials are chosen to match activities in the ecoinvent v3.9.1 database and future databases made with
premise, and to align with the EU CRM list 2023. Additional strategic materials are included, along with some other
materials of interest.

\sphinxAtStartPar
NOTE: The search function in \sphinxtitleref{SearchMaterial.py} uses \sphinxtitleref{str.startswith}, finding all activities that start with the material name.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{c+c1}{\PYGZsh{} Filter activities based on the materials list}
\PYG{n}{acts\PYGZus{}all} \PYG{o}{=} \PYG{n}{pd}\PYG{o}{.}\PYG{n}{DataFrame}\PYG{p}{(}\PYG{p}{[}\PYG{n}{x}\PYG{o}{.}\PYG{n}{as\PYGZus{}dict}\PYG{p}{(}\PYG{p}{)} \PYG{k}{for} \PYG{n}{x} \PYG{o+ow}{in} \PYG{n}{db}\PYG{p}{]}\PYG{p}{)}
\PYG{n}{materials\PYGZus{}df} \PYG{o}{=} \PYG{n}{pd}\PYG{o}{.}\PYG{n}{DataFrame}\PYG{p}{(}\PYG{n}{queries\PYGZus{}materials}\PYG{p}{,} \PYG{n}{columns}\PYG{o}{=}\PYG{p}{[}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{name}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{group}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{]}\PYG{p}{)}

\PYG{n}{acts} \PYG{o}{=} \PYG{n}{acts\PYGZus{}all}\PYG{p}{[}
    \PYG{n}{acts\PYGZus{}all}\PYG{p}{[}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{name}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{]}\PYG{o}{.}\PYG{n}{apply}\PYG{p}{(}
        \PYG{k}{lambda} \PYG{n}{x}\PYG{p}{:} \PYG{n+nb}{any}\PYG{p}{(}\PYG{n}{x}\PYG{o}{.}\PYG{n}{startswith}\PYG{p}{(}\PYG{n}{material}\PYG{p}{)} \PYG{k}{for} \PYG{n}{material} \PYG{o+ow}{in} \PYG{n}{materials\PYGZus{}df}\PYG{o}{.}\PYG{n}{name}\PYG{p}{)}
    \PYG{p}{)}
\PYG{p}{]}\PYG{o}{.}\PYG{n}{reset\PYGZus{}index}\PYG{p}{(}\PYG{n}{drop}\PYG{o}{=}\PYG{k+kc}{True}\PYG{p}{)}
\end{sphinxVerbatim}

\sphinxAtStartPar
The comma in material names is crucial for filtering specific activities in the database. For example,
with the comma, the query  \sphinxtitleref{market for gold,} will catch the activity \sphinxtitleref{market for nickel} and \sphinxtitleref{market for nickel, 90\%} but not \sphinxtitleref{market for nickel plating}.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{queries\PYGZus{}materials} \PYG{o}{=} \PYG{p}{[}
    \PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{market for aluminium}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{aluminium}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{p}{,}
    \PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{market for antimony}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{antimony}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{p}{,}
    \PYG{c+c1}{\PYGZsh{} ... [rest of the list] ...}
    \PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{market for zirconium}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{zirconium}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{p}{,}
\PYG{p}{]}
\end{sphinxVerbatim}

\sphinxstepscope


\section{MakeCustomDatabase}
\label{\detokenize{MakeCustomDatabase:makecustomdatabase}}\label{\detokenize{MakeCustomDatabase::doc}}
\sphinxAtStartPar
The MakeCustomDatabase module’s function is to facilitate the creation and integration of custom databases into the Brightway2 project. This module is responsible for generating an xlsx representation of a Brightway2 database based on the output of the modules \sphinxtitleref{SearchWaste} and \sphinxtitleref{SearchMaterial} and importing it into as a database with \sphinxtitleref{bwio} from the Brightway2 framework.


\subsection{Main Functions}
\label{\detokenize{MakeCustomDatabase:main-functions}}\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxstylestrong{dbWriteExcel}: This function creates an xlsx file that represents a custom Brightway2 database, using data
from predefined directories and database settings.

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{dbExcel2BW}: This function imports the custom database, created by dbWriteExcel, into Brightway2, making it
available for the \sphinxtitleref{ExchangeEditor} and \sphinxtitleref{MethodEditor} modules.

\end{itemize}


\subsection{Important Code Snippets}
\label{\detokenize{MakeCustomDatabase:important-code-snippets}}\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Function to Collect Filenames from Directories}:

\end{itemize}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{def} \PYG{n+nf}{get\PYGZus{}files\PYGZus{}from\PYGZus{}tree}\PYG{p}{(}\PYG{n}{dir\PYGZus{}searchmaterial\PYGZus{}results}\PYG{p}{,} \PYG{n}{dir\PYGZus{}searchwaste\PYGZus{}results}\PYG{p}{)}\PYG{p}{:}
    \PYG{c+c1}{\PYGZsh{} Implementation of the function}
\end{sphinxVerbatim}
\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Function to Create Excel File for Custom Database}:

\end{itemize}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{def} \PYG{n+nf}{dbWriteExcel}\PYG{p}{(}\PYG{p}{)}\PYG{p}{:}
    \PYG{c+c1}{\PYGZsh{}.... snippet to show structure of the activities in the database ...}
    \PYG{k}{for} \PYG{n}{NAME} \PYG{o+ow}{in} \PYG{n}{names}\PYG{p}{:}
    \PYG{n}{count} \PYG{o}{+}\PYG{o}{=} \PYG{l+m+mi}{1}
    \PYG{n}{CODE} \PYG{o}{=} \PYG{n}{NAME}
    \PYG{n}{UNIT} \PYG{o}{=} \PYG{n}{determine\PYGZus{}unit\PYGZus{}from\PYGZus{}name}\PYG{p}{(}\PYG{n}{NAME}\PYG{p}{)}

    \PYG{k}{if} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Waste}\PYG{l+s+s2}{\PYGZdq{}} \PYG{o+ow}{in} \PYG{n}{NAME}\PYG{p}{:}
        \PYG{n}{TYPE} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{waste}\PYG{l+s+s2}{\PYGZdq{}}
        \PYG{n}{CODE} \PYG{o}{=} \PYG{p}{(}
            \PYG{n}{NAME}\PYG{o}{.}\PYG{n}{replace}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{WasteFootprint\PYGZus{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
            \PYG{o}{.}\PYG{n}{capitalize}\PYG{p}{(}\PYG{p}{)}
            \PYG{o}{.}\PYG{n}{replace}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{kilogram}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{(kg)}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
            \PYG{o}{.}\PYG{n}{replace}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{cubicmeter}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{(m3)}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
            \PYG{o}{.}\PYG{n}{replace}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{\PYGZhy{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{ }\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
        \PYG{p}{)}
    \PYG{k}{elif} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Material}\PYG{l+s+s2}{\PYGZdq{}} \PYG{o+ow}{in} \PYG{n}{NAME}\PYG{p}{:}
        \PYG{n}{TYPE} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{natural resource}\PYG{l+s+s2}{\PYGZdq{}}
        \PYG{n}{CODE} \PYG{o}{=} \PYG{n}{NAME}\PYG{o}{.}\PYG{n}{replace}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{MaterialFootprint\PYGZus{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{o}{.}\PYG{n}{capitalize}\PYG{p}{(}\PYG{p}{)}
    \PYG{k}{else}\PYG{p}{:}
        \PYG{n}{TYPE} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{?}\PYG{l+s+s2}{\PYGZdq{}}

    \PYG{n}{db\PYGZus{}entry} \PYG{o}{=} \PYG{p}{\PYGZob{}}
        \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Activity}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{n}{NAME}\PYG{p}{,}
        \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{categories}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{water, air, land}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}
        \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{code}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{n}{CODE}\PYG{p}{,}
        \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{unit}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{n}{UNIT}\PYG{p}{,}
        \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{type}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{n}{TYPE}\PYG{p}{,}
    \PYG{p}{\PYGZcb{}}

\PYG{c+c1}{\PYGZsh{} ... .....}
\end{sphinxVerbatim}
\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Function to Determine Unit from Name}:

\end{itemize}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{def} \PYG{n+nf}{determine\PYGZus{}unit\PYGZus{}from\PYGZus{}name}\PYG{p}{(}\PYG{n}{name}\PYG{p}{)}\PYG{p}{:}
    \PYG{c+c1}{\PYGZsh{} Implementation of the Function}
\end{sphinxVerbatim}
\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Function to Import Database into Brightway2}:

\end{itemize}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{def} \PYG{n+nf}{dbExcel2BW}\PYG{p}{(}\PYG{p}{)}\PYG{p}{:}
    \PYG{c+c1}{\PYGZsh{} Implementation of the Function}
\end{sphinxVerbatim}

\sphinxstepscope


\section{MethodEditor}
\label{\detokenize{MethodEditor:methodeditor}}\label{\detokenize{MethodEditor::doc}}
\sphinxAtStartPar
The MethodEditor module is a key component of the WasteAndMaterialFootprint tool, offering functionalities
to manage methods related to waste and material footprints in a project. This module is instrumental in
adding, deleting, and checking methods within the context of environmental impact assessments.


\subsection{Function Summary}
\label{\detokenize{MethodEditor:function-summary}}\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxstylestrong{\textasciigrave{}AddMethods\textasciigrave{}}: This function adds new methods to a project based on entries in a custom biosphere database.
It is useful for incorporating specific waste and material footprint methodologies into the project’s analysis framework.

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{\textasciigrave{}DeleteMethods\textasciigrave{}}: This function removes specific methods from a project, particularly those associated with
waste and material footprints, aiding in maintaining the relevance and accuracy of the project’s methodological toolbox.

\item {} 
\sphinxAtStartPar
\sphinxstylestrong{\textasciigrave{}CheckMethods\textasciigrave{}}: This function lists and checks the methods in a project, focusing on those linked to waste
and material footprints, ensuring that the methods are correctly implemented and aligned with the project’s objectives.

\end{itemize}


\subsection{Important Code Snippets}
\label{\detokenize{MethodEditor:important-code-snippets}}\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Function to Add Methods to a Project}:

\end{itemize}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{def} \PYG{n+nf}{AddMethods}\PYG{p}{(}\PYG{p}{)}\PYG{p}{:}
    \PYG{c+c1}{\PYGZsh{} ... snippet to show structure of method keys added ...}

    \PYG{c+c1}{\PYGZsh{} Assign characterization factor based on type}
    \PYG{n}{ch\PYGZus{}factor} \PYG{o}{=} \PYG{o}{\PYGZhy{}}\PYG{l+m+mf}{1.0} \PYG{k}{if} \PYG{n}{m\PYGZus{}type} \PYG{o}{==} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{waste}\PYG{l+s+s2}{\PYGZdq{}} \PYG{k}{else} \PYG{l+m+mf}{1.0}

    \PYG{c+c1}{\PYGZsh{} Assign method key and description based on type}
    \PYG{k}{if} \PYG{n}{m\PYGZus{}type} \PYG{o}{==} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{waste}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:}
        \PYG{n}{name\PYGZus{}combined} \PYG{o}{=} \PYG{n}{m\PYGZus{}code}\PYG{o}{.}\PYG{n}{split}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{ }\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{]} \PYG{o}{+} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{ combined}\PYG{l+s+s2}{\PYGZdq{}}
        \PYG{n}{method\PYGZus{}key} \PYG{o}{=} \PYG{p}{(}
            \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{WasteAndMaterialFootprint}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}
            \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Waste: }\PYG{l+s+s2}{\PYGZdq{}} \PYG{o}{+} \PYG{n}{name\PYGZus{}combined}\PYG{p}{,}
            \PYG{n}{m\PYGZus{}code}\PYG{p}{,}
        \PYG{p}{)}
        \PYG{n}{description} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{For estimating the waste footprint of an activity}\PYG{l+s+s2}{\PYGZdq{}}
    \PYG{k}{else}\PYG{p}{:}
        \PYG{n}{method\PYGZus{}key} \PYG{o}{=} \PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{WasteAndMaterialFootprint}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Demand: }\PYG{l+s+s2}{\PYGZdq{}} \PYG{o}{+} \PYG{n}{m\PYGZus{}code}\PYG{p}{,} \PYG{n}{m\PYGZus{}code}\PYG{p}{)}
        \PYG{n}{description} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{For estimating the material demand footprint of an activity}\PYG{l+s+s2}{\PYGZdq{}}

    \PYG{c+c1}{\PYGZsh{} ... end snippet ...}
\end{sphinxVerbatim}
\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Function to Delete Methods from a Project}:

\end{itemize}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{def} \PYG{n+nf}{DeleteMethods}\PYG{p}{(}\PYG{p}{)}\PYG{p}{:}
    \PYG{c+c1}{\PYGZsh{} Implementation of the function}
\end{sphinxVerbatim}
\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Function to Check Methods in a Project}:

\end{itemize}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{def} \PYG{n+nf}{CheckMethods}\PYG{p}{(}\PYG{p}{)}\PYG{p}{:}
    \PYG{c+c1}{\PYGZsh{} ... snippet to show how methods are accessed ...}

    \PYG{n}{methods\PYGZus{}wasteandmaterial} \PYG{o}{=} \PYG{p}{[}
        \PYG{n}{x} \PYG{k}{for} \PYG{n}{x} \PYG{o+ow}{in} \PYG{n+nb}{list}\PYG{p}{(}\PYG{n}{bd}\PYG{o}{.}\PYG{n}{methods}\PYG{p}{)} \PYG{k}{if} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{WasteAndMaterial Footprint}\PYG{l+s+s2}{\PYGZdq{}} \PYG{o}{==} \PYG{n}{x}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{]}
    \PYG{p}{]}

    \PYG{k}{for} \PYG{n}{m} \PYG{o+ow}{in} \PYG{n}{methods\PYGZus{}wasteandmaterial}\PYG{p}{:}
        \PYG{n}{method} \PYG{o}{=} \PYG{n}{bd}\PYG{o}{.}\PYG{n}{Method}\PYG{p}{(}\PYG{n}{m}\PYG{p}{)}
        \PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{method}\PYG{o}{.}\PYG{n}{load}\PYG{p}{(}\PYG{p}{)}\PYG{p}{)}
        \PYG{n+nb}{print}\PYG{p}{(}\PYG{n}{method}\PYG{o}{.}\PYG{n}{metadata}\PYG{p}{)}

    \PYG{n+nb}{print}\PYG{p}{(}\PYG{n+nb}{len}\PYG{p}{(}\PYG{n}{methods\PYGZus{}wasteandmaterial}\PYG{p}{)}\PYG{p}{)}

    \PYG{c+c1}{\PYGZsh{} ... end snippet ...}
\end{sphinxVerbatim}

\sphinxstepscope


\section{ExchangeEditor}
\label{\detokenize{ExchangeEditor:exchangeeditor}}\label{\detokenize{ExchangeEditor::doc}}
\sphinxAtStartPar
The ExchangeEditor module is the final major part of the WasteAndMaterialFootprint tool, responsible for editing exchanges
with wurst and Brightway2. It appends relevant exchanges from the \sphinxtitleref{db\_wmf} (a database containing waste and material
exchange details) to activities identified by \sphinxtitleref{WasteAndMaterialSearch()} in a specified project’s database (\sphinxtitleref{db\_name}).

\sphinxAtStartPar
This module takes the longest time to run, as it iterates over each exchange that was found by the search modules, which can be \textgreater{}200,000 exchanges. For each database, this can take around 15\sphinxhyphen{}20 minutes to run.


\subsection{Function Summary}
\label{\detokenize{ExchangeEditor:function-summary}}\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxstylestrong{\textasciigrave{}ExchangeEditor\textasciigrave{}}: This function modifies the specified project’s database by appending exchanges from the
\sphinxtitleref{db\_wmf} to activities identified by \sphinxtitleref{WasteAndMaterialSearch()}. Each appended exchange replicates the same amount and unit as the original technosphere waste and material exchange.

\end{itemize}


\subsection{Important Code Snippets}
\label{\detokenize{ExchangeEditor:important-code-snippets}}\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxstylestrong{Function to Append Exchanges to Activities in a Database}:

\end{itemize}

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{def} \PYG{n+nf}{ExchangeEditor}\PYG{p}{(}\PYG{n}{project\PYGZus{}wmf}\PYG{p}{,} \PYG{n}{db\PYGZus{}name}\PYG{p}{,} \PYG{n}{db\PYGZus{}wmf\PYGZus{}name}\PYG{p}{)}\PYG{p}{:}
    \PYG{c+c1}{\PYGZsh{} ... snippet to show addition of the custom exchange ...}

    \PYG{c+c1}{\PYGZsh{} Iterate over each category (NAME)}
    \PYG{k}{for} \PYG{n}{NAME}\PYG{p}{,} \PYG{n}{df} \PYG{o+ow}{in} \PYG{n+nb}{sorted}\PYG{p}{(}\PYG{n}{file\PYGZus{}dict}\PYG{o}{.}\PYG{n}{items}\PYG{p}{(}\PYG{p}{)}\PYG{p}{,} \PYG{n}{reverse}\PYG{o}{=}\PYG{k+kc}{False}\PYG{p}{)}\PYG{p}{:}
        \PYG{n}{countNAME} \PYG{o}{+}\PYG{o}{=} \PYG{l+m+mi}{1}
        \PYG{n}{progress\PYGZus{}db} \PYG{o}{=} \PYG{l+s+sa}{f}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+si}{\PYGZob{}}\PYG{n}{countNAME}\PYG{l+s+si}{:}\PYG{l+s+s2}{2}\PYG{l+s+si}{\PYGZcb{}}\PYG{l+s+s2}{/}\PYG{l+s+si}{\PYGZob{}}\PYG{n+nb}{len}\PYG{p}{(}\PYG{n}{file\PYGZus{}dict}\PYG{o}{.}\PYG{n}{items}\PYG{p}{(}\PYG{p}{)}\PYG{p}{)}\PYG{l+s+si}{\PYGZcb{}}\PYG{l+s+s2}{\PYGZdq{}}
        \PYG{n}{count} \PYG{o}{=} \PYG{l+m+mi}{0}

        \PYG{c+c1}{\PYGZsh{} For each exchange in the current category\PYGZsq{}s DataFrame}
        \PYG{k}{for} \PYG{n}{exc} \PYG{o+ow}{in} \PYG{n}{tqdm}\PYG{p}{(}
            \PYG{n}{df}\PYG{o}{.}\PYG{n}{to\PYGZus{}dict}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{records}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{p}{,}
            \PYG{n}{desc}\PYG{o}{=}\PYG{l+s+sa}{f}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{ \PYGZhy{} }\PYG{l+s+si}{\PYGZob{}}\PYG{n}{progress\PYGZus{}db}\PYG{l+s+si}{\PYGZcb{}}\PYG{l+s+s2}{ : }\PYG{l+s+si}{\PYGZob{}}\PYG{n}{NAME}\PYG{l+s+si}{\PYGZcb{}}\PYG{l+s+s2}{ }\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}
            \PYG{n}{bar\PYGZus{}format}\PYG{o}{=}\PYG{n}{bar\PYGZus{}format}\PYG{p}{,}
            \PYG{n}{colour}\PYG{o}{=}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{magenta}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}
            \PYG{n}{smoothing}\PYG{o}{=}\PYG{l+m+mf}{0.01}\PYG{p}{,}
        \PYG{p}{)}\PYG{p}{:}
            \PYG{c+c1}{\PYGZsh{} Extract details of the exchange}
            \PYG{n}{code}\PYG{p}{,} \PYG{n}{name}\PYG{p}{,} \PYG{n}{location}\PYG{p}{,} \PYG{n}{ex\PYGZus{}name}\PYG{p}{,} \PYG{n}{amount}\PYG{p}{,} \PYG{n}{unit}\PYG{p}{,} \PYG{n}{ex\PYGZus{}location}\PYG{p}{,} \PYG{n}{database} \PYG{o}{=} \PYG{p}{(}
                \PYG{n}{exc}\PYG{p}{[}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{code}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{]}\PYG{p}{,}
                \PYG{n}{exc}\PYG{p}{[}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{name}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{]}\PYG{p}{,}
                \PYG{n}{exc}\PYG{p}{[}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{location}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{]}\PYG{p}{,}
                \PYG{n}{exc}\PYG{p}{[}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{ex\PYGZus{}name}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{]}\PYG{p}{,}
                \PYG{n}{exc}\PYG{p}{[}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{ex\PYGZus{}amount}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{]}\PYG{p}{,}
                \PYG{n}{exc}\PYG{p}{[}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{ex\PYGZus{}unit}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{]}\PYG{p}{,}
                \PYG{n}{exc}\PYG{p}{[}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{ex\PYGZus{}location}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{]}\PYG{p}{,}
                \PYG{n}{db\PYGZus{}name}\PYG{p}{,}
            \PYG{p}{)}

            \PYG{n}{KEY} \PYG{o}{=} \PYG{p}{(}\PYG{n}{database}\PYG{p}{,} \PYG{n}{code}\PYG{p}{)}
            \PYG{n}{WMF\PYGZus{}KEY} \PYG{o}{=} \PYG{p}{(}
                \PYG{n}{db\PYGZus{}wmf\PYGZus{}name}\PYG{p}{,}
                \PYG{n}{NAME}\PYG{o}{.}\PYG{n}{split}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{\PYGZus{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{]}
                \PYG{o}{.}\PYG{n}{capitalize}\PYG{p}{(}\PYG{p}{)}
                \PYG{o}{.}\PYG{n}{replace}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{\PYGZus{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{ }\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
                \PYG{o}{.}\PYG{n}{replace}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{\PYGZhy{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{ }\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
                \PYG{o}{.}\PYG{n}{replace}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{kilogram}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{(kg)}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}
                \PYG{o}{.}\PYG{n}{replace}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{cubicmeter}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{(m3)}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{p}{,}
            \PYG{p}{)}
            \PYG{c+c1}{\PYGZsh{} Retrieve the process and wasteandmaterial exchange from the databases}
            \PYG{k}{try}\PYG{p}{:}
                \PYG{n}{process} \PYG{o}{=} \PYG{n}{bd}\PYG{o}{.}\PYG{n}{get\PYGZus{}activity}\PYG{p}{(}\PYG{n}{KEY}\PYG{p}{)}
                \PYG{n}{wasteandmaterial\PYGZus{}ex} \PYG{o}{=} \PYG{n}{bd}\PYG{o}{.}\PYG{n}{get\PYGZus{}activity}\PYG{p}{(}\PYG{n}{WMF\PYGZus{}KEY}\PYG{p}{)}
                \PYG{n}{before} \PYG{o}{=} \PYG{n+nb}{len}\PYG{p}{(}\PYG{n}{process}\PYG{o}{.}\PYG{n}{exchanges}\PYG{p}{(}\PYG{p}{)}\PYG{p}{)}

                \PYG{n}{process}\PYG{o}{.}\PYG{n}{new\PYGZus{}exchange}\PYG{p}{(}
                    \PYG{n+nb}{input}\PYG{o}{=}\PYG{n}{wasteandmaterial\PYGZus{}ex}\PYG{p}{,}
                    \PYG{n}{amount}\PYG{o}{=}\PYG{n}{amount}\PYG{p}{,}
                    \PYG{n}{unit}\PYG{o}{=}\PYG{n}{unit}\PYG{p}{,}
                    \PYG{n+nb}{type}\PYG{o}{=}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{biosphere}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}
                \PYG{p}{)}\PYG{o}{.}\PYG{n}{save}\PYG{p}{(}\PYG{p}{)}
                \PYG{n}{after} \PYG{o}{=} \PYG{n+nb}{len}\PYG{p}{(}\PYG{n}{process}\PYG{o}{.}\PYG{n}{exchanges}\PYG{p}{(}\PYG{p}{)}\PYG{p}{)}

        \PYG{c+c1}{\PYGZsh{} ... end of snippet ...}
\end{sphinxVerbatim}

\sphinxstepscope


\section{VerifyDatabase}
\label{\detokenize{VerifyDatabase:verifydatabase}}\label{\detokenize{VerifyDatabase::doc}}
\sphinxAtStartPar
The VerifyDatabase module contains functionality for verifying an edited WMF database within a given project in Brightway2. It performs this verification by calculating LCA scores for random activities within the specified database using selected methods.


\subsection{Function Summary}
\label{\detokenize{VerifyDatabase:function-summary}}\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxstylestrong{\textasciigrave{}VerifyDatabase\textasciigrave{}}: This function verifies a database within a Brightway2 project by calculating LCA scores
for random activities using Waste Footprint and Material Demand Footprint methods. Since it is not expected that every activity and method combination would result in a non\sphinxhyphen{}zero score, the function allows users to specify the number of activities and methods to be used in the verification process. The function also allows users to specify whether they want to check the Waste Footprint, Material Demand Footprint, or both.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{k}{def} \PYG{n+nf}{VerifyDatabase}\PYG{p}{(}\PYG{n}{project\PYGZus{}name}\PYG{p}{,} \PYG{n}{database\PYGZus{}name}\PYG{p}{,} \PYG{n}{check\PYGZus{}material}\PYG{o}{=}\PYG{k+kc}{True}\PYG{p}{,} \PYG{n}{check\PYGZus{}waste}\PYG{o}{=}\PYG{k+kc}{True}\PYG{p}{,} \PYG{n}{log}\PYG{o}{=}\PYG{k+kc}{True}\PYG{p}{)}\PYG{p}{:}
    \PYG{c+c1}{\PYGZsh{} ... snippet to show verification process ... \PYGZsh{}}

    \PYG{n+nb}{print}\PYG{p}{(}\PYG{l+s+sa}{f}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+se}{\PYGZbs{}n}\PYG{l+s+s2}{** Verifying database }\PYG{l+s+si}{\PYGZob{}}\PYG{n}{database\PYGZus{}name}\PYG{l+s+si}{\PYGZcb{}}\PYG{l+s+s2}{ in project }\PYG{l+s+si}{\PYGZob{}}\PYG{n}{project\PYGZus{}name}\PYG{l+s+si}{\PYGZcb{}}\PYG{l+s+s2}{ **}\PYG{l+s+se}{\PYGZbs{}n}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}

    \PYG{c+c1}{\PYGZsh{} Loop until a non\PYGZhy{}zero score is obtained}
    \PYG{k}{while} \PYG{n}{lca\PYGZus{}score} \PYG{o}{==} \PYG{l+m+mi}{0} \PYG{o+ow}{and} \PYG{n}{count} \PYG{o}{\PYGZlt{}} \PYG{l+m+mi}{5}\PYG{p}{:}
        \PYG{k}{try}\PYG{p}{:}
            \PYG{n}{count} \PYG{o}{+}\PYG{o}{=} \PYG{l+m+mi}{1}
            \PYG{c+c1}{\PYGZsh{} Get a random activity from the database}
            \PYG{n}{act} \PYG{o}{=} \PYG{n}{bd}\PYG{o}{.}\PYG{n}{Database}\PYG{p}{(}\PYG{n}{database\PYGZus{}name}\PYG{p}{)}\PYG{o}{.}\PYG{n}{random}\PYG{p}{(}\PYG{p}{)}

            \PYG{c+c1}{\PYGZsh{} Initialize the list of methods}
            \PYG{n}{methods} \PYG{o}{=} \PYG{p}{[}\PYG{p}{]}

            \PYG{c+c1}{\PYGZsh{} Find methods related to Waste Footprint}
            \PYG{k}{if} \PYG{n}{check\PYGZus{}waste}\PYG{p}{:}
                \PYG{n}{methods\PYGZus{}waste} \PYG{o}{=} \PYG{p}{[}\PYG{n}{x} \PYG{k}{for} \PYG{n}{x} \PYG{o+ow}{in} \PYG{n}{bd}\PYG{o}{.}\PYG{n}{methods} \PYG{k}{if} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Waste}\PYG{l+s+s2}{\PYGZdq{}} \PYG{o+ow}{in} \PYG{n}{x}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{]}\PYG{p}{]}
                \PYG{n}{methods} \PYG{o}{+}\PYG{o}{=} \PYG{n}{methods\PYGZus{}waste}

            \PYG{c+c1}{\PYGZsh{} Find methods related to Material Demand Footprint}
            \PYG{k}{if} \PYG{n}{check\PYGZus{}material}\PYG{p}{:}
                \PYG{n}{methods\PYGZus{}material} \PYG{o}{=} \PYG{p}{[}\PYG{n}{x} \PYG{k}{for} \PYG{n}{x} \PYG{o+ow}{in} \PYG{n}{bd}\PYG{o}{.}\PYG{n}{methods} \PYG{k}{if} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Demand}\PYG{l+s+s2}{\PYGZdq{}} \PYG{o+ow}{in} \PYG{n}{x}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{]}\PYG{p}{]}
                \PYG{n}{methods} \PYG{o}{+}\PYG{o}{=} \PYG{n}{methods\PYGZus{}material}

            \PYG{k}{if} \PYG{o+ow}{not} \PYG{n}{check\PYGZus{}waste} \PYG{o+ow}{and} \PYG{o+ow}{not} \PYG{n}{check\PYGZus{}material}\PYG{p}{:}
                \PYG{n}{method} \PYG{o}{=} \PYG{n}{bd}\PYG{o}{.}\PYG{n}{methods}\PYG{o}{.}\PYG{n}{random}\PYG{p}{(}\PYG{p}{)}
                \PYG{n}{methods}\PYG{o}{.}\PYG{n}{append}\PYG{p}{(}\PYG{n}{method}\PYG{p}{)}

            \PYG{c+c1}{\PYGZsh{} Choose a random method}
            \PYG{n}{method} \PYG{o}{=} \PYG{n}{choice}\PYG{p}{(}\PYG{n}{methods}\PYG{p}{)}

            \PYG{c+c1}{\PYGZsh{} Perform LCA calculation}
            \PYG{n}{lca} \PYG{o}{=} \PYG{n}{bc}\PYG{o}{.}\PYG{n}{LCA}\PYG{p}{(}\PYG{p}{\PYGZob{}}\PYG{n}{act}\PYG{p}{:} \PYG{l+m+mi}{1}\PYG{p}{\PYGZcb{}}\PYG{p}{,} \PYG{n}{method}\PYG{p}{)}
            \PYG{n}{lca}\PYG{o}{.}\PYG{n}{lci}\PYG{p}{(}\PYG{p}{)}
            \PYG{n}{lca}\PYG{o}{.}\PYG{n}{lcia}\PYG{p}{(}\PYG{p}{)}

            \PYG{c+c1}{\PYGZsh{} Get the lca score}
            \PYG{n}{lca\PYGZus{}score} \PYG{o}{=} \PYG{n}{lca}\PYG{o}{.}\PYG{n}{score}

            \PYG{c+c1}{\PYGZsh{} Print the result}
            \PYG{n}{log\PYGZus{}statement} \PYG{o}{=} \PYG{l+s+sa}{f}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+se}{\PYGZbs{}t}\PYG{l+s+s2}{Score: }\PYG{l+s+si}{\PYGZob{}}\PYG{n}{lca\PYGZus{}score}\PYG{l+s+si}{:}\PYG{l+s+s2}{2.2e}\PYG{l+s+si}{\PYGZcb{}}\PYG{l+s+s2}{ }\PYG{l+s+se}{\PYGZbs{}n}\PYG{l+s+se}{\PYGZbs{}t}\PYG{l+s+s2}{Method: }\PYG{l+s+si}{\PYGZob{}}\PYG{n}{method}\PYG{p}{[}\PYG{l+m+mi}{2}\PYG{p}{]}\PYG{l+s+si}{\PYGZcb{}}\PYG{l+s+s2}{ }\PYG{l+s+se}{\PYGZbs{}n}\PYG{l+s+se}{\PYGZbs{}t}\PYG{l+s+s2}{Activity: }\PYG{l+s+si}{\PYGZob{}}\PYG{n}{act}\PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{name}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{]}\PYG{l+s+si}{\PYGZcb{}}\PYG{l+s+s2}{ }\PYG{l+s+se}{\PYGZbs{}n}\PYG{l+s+se}{\PYGZbs{}t}\PYG{l+s+s2}{Database: }\PYG{l+s+si}{\PYGZob{}}\PYG{n}{database\PYGZus{}name}\PYG{l+s+si}{\PYGZcb{}}\PYG{l+s+se}{\PYGZbs{}n}\PYG{l+s+s2}{\PYGZdq{}}

        \PYG{k}{except} \PYG{n+ne}{Exception} \PYG{k}{as} \PYG{n}{e}\PYG{p}{:}
            \PYG{c+c1}{\PYGZsh{} Print any errors that occur}
            \PYG{n}{log\PYGZus{}statement} \PYG{o}{=} \PYG{p}{(}
                \PYG{l+s+sa}{f}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{@@@@@@@@  Error occurred with }\PYG{l+s+s2}{\PYGZsq{}}\PYG{l+s+si}{\PYGZob{}}\PYG{n}{database\PYGZus{}name}\PYG{l+s+si}{\PYGZcb{}}\PYG{l+s+s2}{\PYGZsq{}}\PYG{l+s+s2}{: }\PYG{l+s+si}{\PYGZob{}}\PYG{n}{e}\PYG{l+s+si}{\PYGZcb{}}\PYG{l+s+s2}{! @@@@@@@@}\PYG{l+s+s2}{\PYGZdq{}}
            \PYG{p}{)}

    \PYG{c+c1}{\PYGZsh{} ...  end snippet ... \PYGZsh{}}
\end{sphinxVerbatim}

\end{itemize}


\subsection{Usage}
\label{\detokenize{VerifyDatabase:usage}}
\sphinxAtStartPar
This function is called automatically after each database is processed, and again after all databases have been processed. The function can also be called manually by the user by invoking the following command:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{wmf}\PYG{o}{.}\PYG{n}{VerifyDatabase}\PYG{p}{(}\PYG{n}{project\PYGZus{}name}\PYG{p}{,} \PYG{n}{database\PYGZus{}name}\PYG{p}{,} \PYG{n}{check\PYGZus{}material}\PYG{o}{=}\PYG{k+kc}{True}\PYG{p}{,} \PYG{n}{check\PYGZus{}waste}\PYG{o}{=}\PYG{k+kc}{True}\PYG{p}{,} \PYG{n}{log}\PYG{o}{=}\PYG{k+kc}{True}\PYG{p}{)}
\end{sphinxVerbatim}


\section{FutureScenarios}
\label{\detokenize{modules:futurescenarios}}
\sphinxAtStartPar
Contains scenarios for future environmental impact assessments.


\section{ExplodeDatabase}
\label{\detokenize{modules:explodedatabase}}
\sphinxAtStartPar
Responsible for expanding a Brightway2 database into detailed exchange lists.


\section{SearchWaste}
\label{\detokenize{modules:searchwaste}}
\sphinxAtStartPar
Provides functions for searching and categorizing waste\sphinxhyphen{}related data.


\section{SearchMaterial}
\label{\detokenize{modules:searchmaterial}}
\sphinxAtStartPar
Enables detailed search and categorization of material\sphinxhyphen{}related data within a database.


\section{MakeCustomDatabase}
\label{\detokenize{modules:makecustomdatabase}}
\sphinxAtStartPar
Facilitates the creation of custom databases for use in environmental impact assessments.


\section{MethodEditor}
\label{\detokenize{modules:methodeditor}}
\sphinxAtStartPar
Manages methods within the WMF program for waste and material footprint calculations.


\section{ExchangeEditor}
\label{\detokenize{modules:exchangeeditor}}
\sphinxAtStartPar
Handles the editing and appending of exchanges in Brightway2 databases.


\section{VerifyDatabase}
\label{\detokenize{modules:verifydatabase}}
\sphinxAtStartPar
Performs verification of databases by calculating LCA scores for random activities.

\sphinxstepscope


\chapter{Examples}
\label{\detokenize{examples:examples}}\label{\detokenize{examples::doc}}
\sphinxAtStartPar
See the \sphinxtitleref{examples} directory for an examples of how to use the WasteAndMaterialFootprint package.
The folder \sphinxtitleref{batteries} contains a small case study using the package to calculate the waste and material footprints of several battery technologies in ecoinvent 3.10.

\sphinxstepscope


\chapter{API Reference}
\label{\detokenize{modules_api:api-reference}}\label{\detokenize{modules_api::doc}}
\sphinxstepscope


\section{WMFootprint package}
\label{\detokenize{WMFootprint_api:wmfootprint-package}}\label{\detokenize{WMFootprint_api::doc}}

\subsection{WasteAndMaterialFootprint.main module}
\label{\detokenize{WMFootprint_api:module-WasteAndMaterialFootprint.main}}\label{\detokenize{WMFootprint_api:wasteandmaterialfootprint-main-module}}\index{module@\spxentry{module}!WasteAndMaterialFootprint.main@\spxentry{WasteAndMaterialFootprint.main}}\index{WasteAndMaterialFootprint.main@\spxentry{WasteAndMaterialFootprint.main}!module@\spxentry{module}}

\subsubsection{main Module}
\label{\detokenize{WMFootprint_api:main-module}}
\sphinxAtStartPar
Main module of the \sphinxtitleref{WasteAndMaterialFootprint} tool.

\sphinxAtStartPar
This script serves as the entry point for the \sphinxtitleref{WasteAndMaterialFootprint} tool. It orchestrates the overall process, including the setup and execution of various subprocesses like database explosion, material and waste searches, and the editing of exchanges.

\sphinxAtStartPar
The script supports both single and multiple project/database modes, as well as the option to use multiprocessing. It also facilitates the use of the premise module to generate future scenario databases.


\paragraph{Customisation:}
\label{\detokenize{WMFootprint_api:customisation}}\begin{itemize}
\item {} 
\sphinxAtStartPar
Project and database names, and other settings can be edited in \sphinxtitleref{config/user\_settings.py}.

\item {} 
\sphinxAtStartPar
Waste search query terms can be customised in \sphinxtitleref{config/queries\_waste.py}.

\item {} 
\sphinxAtStartPar
The list of materials can be modified in \sphinxtitleref{config/queries\_materials.py}.

\end{itemize}


\paragraph{Usage:}
\label{\detokenize{WMFootprint_api:usage}}
\sphinxAtStartPar
To use the default settings, run the script with \sphinxtitleref{python main.py}. 
Arguments can be provided to change project/database names or to delete the project before running.
\index{EditExchanges() (in module WasteAndMaterialFootprint.main)@\spxentry{EditExchanges()}\spxextra{in module WasteAndMaterialFootprint.main}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{WMFootprint_api:WasteAndMaterialFootprint.main.EditExchanges}}
\pysigstartsignatures
\pysiglinewithargsret{\sphinxcode{\sphinxupquote{WasteAndMaterialFootprint.main.}}\sphinxbfcode{\sphinxupquote{EditExchanges}}}{\sphinxparam{\DUrole{n}{args}}}{}
\pysigstopsignatures
\sphinxAtStartPar
Edit exchanges in the database.

\sphinxAtStartPar
This function adds waste and material flows to the activities and verifies the database.
\begin{quote}\begin{description}
\sphinxlineitem{Parameters}
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{args}} \textendash{} Dictionary containing database and project settings.

\sphinxlineitem{Returns}
\sphinxAtStartPar
None

\end{description}\end{quote}

\end{fulllineitems}

\index{ExplodeAndSearch() (in module WasteAndMaterialFootprint.main)@\spxentry{ExplodeAndSearch()}\spxextra{in module WasteAndMaterialFootprint.main}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{WMFootprint_api:WasteAndMaterialFootprint.main.ExplodeAndSearch}}
\pysigstartsignatures
\pysiglinewithargsret{\sphinxcode{\sphinxupquote{WasteAndMaterialFootprint.main.}}\sphinxbfcode{\sphinxupquote{ExplodeAndSearch}}}{\sphinxparam{\DUrole{n}{args}}}{}
\pysigstopsignatures
\sphinxAtStartPar
Exploding the database into separate exchanges, searching for waste and
material flows, and processing these results.
\begin{description}
\sphinxlineitem{This includes:}\begin{itemize}
\item {} 
\sphinxAtStartPar
ExplodeDatabase.py

\item {} 
\sphinxAtStartPar
SearchWaste.py

\item {} 
\sphinxAtStartPar
SearchMaterial.py

\end{itemize}

\end{description}
\begin{quote}\begin{description}
\sphinxlineitem{Parameters}
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{args}} \textendash{} Dictionary containing database and project settings.

\sphinxlineitem{Returns}
\sphinxAtStartPar
None

\end{description}\end{quote}

\end{fulllineitems}

\index{run() (in module WasteAndMaterialFootprint.main)@\spxentry{run()}\spxextra{in module WasteAndMaterialFootprint.main}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{WMFootprint_api:WasteAndMaterialFootprint.main.run}}
\pysigstartsignatures
\pysiglinewithargsret{\sphinxcode{\sphinxupquote{WasteAndMaterialFootprint.main.}}\sphinxbfcode{\sphinxupquote{run}}}{}{}
\pysigstopsignatures
\sphinxAtStartPar
Main function serving as the wrapper for the WasteAndMaterialFootprint tool.
\begin{description}
\sphinxlineitem{This function coordinates the various components of the tool, including:}
\sphinxAtStartPar
creating future scenario databases,
setting up and processing each database for waste and material footprinting,
and combining results into a custom database.
adding LCIA methods to the project for each of the waste/material flows.

\end{description}

\sphinxAtStartPar
The function supports various modes of operation based on the settings in \sphinxtitleref{config/user\_settings.py}.
Specifications for material and waste searches can be customised in \sphinxtitleref{queries\_materials}.

\end{fulllineitems}



\subsection{Submodules}
\label{\detokenize{WMFootprint_api:submodules}}

\subsection{WasteAndMaterialFootprint.ExchangeEditor module}
\label{\detokenize{WMFootprint_api:module-WasteAndMaterialFootprint.ExchangeEditor}}\label{\detokenize{WMFootprint_api:wasteandmaterialfootprint-exchangeeditor-module}}\index{module@\spxentry{module}!WasteAndMaterialFootprint.ExchangeEditor@\spxentry{WasteAndMaterialFootprint.ExchangeEditor}}\index{WasteAndMaterialFootprint.ExchangeEditor@\spxentry{WasteAndMaterialFootprint.ExchangeEditor}!module@\spxentry{module}}

\subsubsection{ExchangeEditor Module}
\label{\detokenize{WMFootprint_api:exchangeeditor-module}}
\sphinxAtStartPar
This module is responsible for editing exchanges with wurst and Brightway2.
It appends relevant exchanges from the \sphinxtitleref{db\_wmf} (database containing waste and material exchange details) 
to activities identified by \sphinxtitleref{WasteAndMaterialSearch()} in the specified project’s database (\sphinxtitleref{db\_name}).
Each appended exchange replicates the same amount and unit as the original technosphere waste and material exchange.
\index{ExchangeEditor() (in module WasteAndMaterialFootprint.ExchangeEditor)@\spxentry{ExchangeEditor()}\spxextra{in module WasteAndMaterialFootprint.ExchangeEditor}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{WMFootprint_api:WasteAndMaterialFootprint.ExchangeEditor.ExchangeEditor}}
\pysigstartsignatures
\pysiglinewithargsret{\sphinxcode{\sphinxupquote{WasteAndMaterialFootprint.ExchangeEditor.}}\sphinxbfcode{\sphinxupquote{ExchangeEditor}}}{\sphinxparam{\DUrole{n}{project\_wmf}}\sphinxparamcomma \sphinxparam{\DUrole{n}{db\_name}}\sphinxparamcomma \sphinxparam{\DUrole{n}{db\_wmf\_name}}}{}
\pysigstopsignatures
\sphinxAtStartPar
Append relevant exchanges from \sphinxtitleref{db\_wmf} to each activity in \sphinxtitleref{db\_name} identified by \sphinxtitleref{WasteAndMaterialSearch()}.

\sphinxAtStartPar
This function modifies the specified project’s database by appending exchanges from the \sphinxtitleref{db\_wmf} to activities identified by \sphinxtitleref{WasteAndMaterialSearch()}. The appended exchanges mirror the quantity and unit of the original technosphere waste and material exchange.
\begin{quote}\begin{description}
\sphinxlineitem{Parameters}\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{project\_wmf}} (\sphinxstyleliteralemphasis{\sphinxupquote{str}}) \textendash{} Name of the Brightway2 project to be modified.

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{db\_name}} (\sphinxstyleliteralemphasis{\sphinxupquote{str}}) \textendash{} Name of the database within the project where activities and exchanges are stored.

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{db\_wmf\_name}} (\sphinxstyleliteralemphasis{\sphinxupquote{str}}) \textendash{} Name of the database containing waste and material exchange details.

\end{itemize}

\sphinxlineitem{Returns}
\sphinxAtStartPar
None. Modifies the given Brightway2 project by appending exchanges and logs statistics about the added exchanges.

\sphinxlineitem{Return type}
\sphinxAtStartPar
None

\sphinxlineitem{Raises}
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{Exception}} \textendash{} If any specified process or exchange is not found in the database.

\end{description}\end{quote}

\end{fulllineitems}



\subsection{WasteAndMaterialFootprint.ExplodeDatabase module}
\label{\detokenize{WMFootprint_api:module-WasteAndMaterialFootprint.ExplodeDatabase}}\label{\detokenize{WMFootprint_api:wasteandmaterialfootprint-explodedatabase-module}}\index{module@\spxentry{module}!WasteAndMaterialFootprint.ExplodeDatabase@\spxentry{WasteAndMaterialFootprint.ExplodeDatabase}}\index{WasteAndMaterialFootprint.ExplodeDatabase@\spxentry{WasteAndMaterialFootprint.ExplodeDatabase}!module@\spxentry{module}}

\subsubsection{ExplodeDatabase Module}
\label{\detokenize{WMFootprint_api:explodedatabase-module}}
\sphinxAtStartPar
This module is responsible for exploding a Brightway2 database into a single\sphinxhyphen{}level list of all exchanges.
It utilizes the wurst package to unpack the database, explode it to a list of all exchanges, and save this data 
in a DataFrame as a .pickle binary file.
\index{ExplodeDatabase() (in module WasteAndMaterialFootprint.ExplodeDatabase)@\spxentry{ExplodeDatabase()}\spxextra{in module WasteAndMaterialFootprint.ExplodeDatabase}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{WMFootprint_api:WasteAndMaterialFootprint.ExplodeDatabase.ExplodeDatabase}}
\pysigstartsignatures
\pysiglinewithargsret{\sphinxcode{\sphinxupquote{WasteAndMaterialFootprint.ExplodeDatabase.}}\sphinxbfcode{\sphinxupquote{ExplodeDatabase}}}{\sphinxparam{\DUrole{n}{db\_name}}}{}
\pysigstopsignatures
\sphinxAtStartPar
Explode a Brightway2 database into a single\sphinxhyphen{}level list of all exchanges using wurst.
\begin{quote}\begin{description}
\sphinxlineitem{Parameters}
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{db\_name}} (\sphinxstyleliteralemphasis{\sphinxupquote{str}}) \textendash{} Name of the Brightway2 database to be exploded.

\sphinxlineitem{Returns}
\sphinxAtStartPar
None
The function saves the output to a file and logs the operation, but does not return any value.

\sphinxlineitem{Return type}
\sphinxAtStartPar
None

\end{description}\end{quote}

\end{fulllineitems}



\subsection{WasteAndMaterialFootprint.FutureScenarios module}
\label{\detokenize{WMFootprint_api:module-WasteAndMaterialFootprint.FutureScenarios}}\label{\detokenize{WMFootprint_api:wasteandmaterialfootprint-futurescenarios-module}}\index{module@\spxentry{module}!WasteAndMaterialFootprint.FutureScenarios@\spxentry{WasteAndMaterialFootprint.FutureScenarios}}\index{WasteAndMaterialFootprint.FutureScenarios@\spxentry{WasteAndMaterialFootprint.FutureScenarios}!module@\spxentry{module}}

\subsubsection{FutureScenarios Module}
\label{\detokenize{WMFootprint_api:futurescenarios-module}}
\sphinxAtStartPar
This module is responsible for creating future databases with premise.
\index{FutureScenarios() (in module WasteAndMaterialFootprint.FutureScenarios)@\spxentry{FutureScenarios()}\spxextra{in module WasteAndMaterialFootprint.FutureScenarios}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{WMFootprint_api:WasteAndMaterialFootprint.FutureScenarios.FutureScenarios}}
\pysigstartsignatures
\pysiglinewithargsret{\sphinxcode{\sphinxupquote{WasteAndMaterialFootprint.FutureScenarios.}}\sphinxbfcode{\sphinxupquote{FutureScenarios}}}{\sphinxparam{\DUrole{n}{scenario\_list}}}{}
\pysigstopsignatures
\sphinxAtStartPar
Create future databases with premise.

\sphinxAtStartPar
This function processes scenarios and creates new databases based on the premise module. It configures and uses user\sphinxhyphen{}defined settings and parameters for database creation and scenario processing.
\begin{quote}\begin{description}
\sphinxlineitem{Returns}
\sphinxAtStartPar
None
The function does not return any value but performs operations to create and configure databases in Brightway2 based on specified scenarios.

\sphinxlineitem{Raises}
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{Exception}} \textendash{} If an error occurs during the processing of scenarios or database creation.

\end{description}\end{quote}

\end{fulllineitems}

\index{MakeFutureScenarios() (in module WasteAndMaterialFootprint.FutureScenarios)@\spxentry{MakeFutureScenarios()}\spxextra{in module WasteAndMaterialFootprint.FutureScenarios}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{WMFootprint_api:WasteAndMaterialFootprint.FutureScenarios.MakeFutureScenarios}}
\pysigstartsignatures
\pysiglinewithargsret{\sphinxcode{\sphinxupquote{WasteAndMaterialFootprint.FutureScenarios.}}\sphinxbfcode{\sphinxupquote{MakeFutureScenarios}}}{}{}
\pysigstopsignatures
\sphinxAtStartPar
Main function to run the FutureScenarios module.
Only activated if \sphinxtitleref{use\_premise} is set to True in \sphinxtitleref{user\_settings.py}.

\sphinxAtStartPar
Calls the \sphinxtitleref{FutureScenarios} function to create new databases based on the list of scenarios and settings specified in \sphinxtitleref{user\_settings.py}.

\end{fulllineitems}

\index{check\_existing() (in module WasteAndMaterialFootprint.FutureScenarios)@\spxentry{check\_existing()}\spxextra{in module WasteAndMaterialFootprint.FutureScenarios}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{WMFootprint_api:WasteAndMaterialFootprint.FutureScenarios.check_existing}}
\pysigstartsignatures
\pysiglinewithargsret{\sphinxcode{\sphinxupquote{WasteAndMaterialFootprint.FutureScenarios.}}\sphinxbfcode{\sphinxupquote{check\_existing}}}{\sphinxparam{\DUrole{n}{desired\_scenarios}}}{}
\pysigstopsignatures
\sphinxAtStartPar
Check the project to see if the desired scenarios already exist, and if so, remove them from the list of scenarios to be created.
Quite useful when running many scenarios, as it can take a long time to create them all, sometimes crashes, etc.

\sphinxAtStartPar
args: desired\_scenarios (list): list of dictionaries with scenario details

\sphinxAtStartPar
returns: new\_scenarios (list): list of dictionaries with scenario details that do not already exist in the project

\end{fulllineitems}

\index{make\_possible\_scenario\_list() (in module WasteAndMaterialFootprint.FutureScenarios)@\spxentry{make\_possible\_scenario\_list()}\spxextra{in module WasteAndMaterialFootprint.FutureScenarios}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{WMFootprint_api:WasteAndMaterialFootprint.FutureScenarios.make_possible_scenario_list}}
\pysigstartsignatures
\pysiglinewithargsret{\sphinxcode{\sphinxupquote{WasteAndMaterialFootprint.FutureScenarios.}}\sphinxbfcode{\sphinxupquote{make\_possible\_scenario\_list}}}{\sphinxparam{\DUrole{n}{filenames}}\sphinxparamcomma \sphinxparam{\DUrole{n}{desired\_scenarios}}\sphinxparamcomma \sphinxparam{\DUrole{n}{years}}}{}
\pysigstopsignatures
\sphinxAtStartPar
Make a list of dictionaries with scenario details based on the available scenarios and the desired scenarios.

\sphinxAtStartPar
args: filenames (list): list of filenames of available scenarios
desired\_scenarios (list): list of dictionaries with scenario details
years (list): list of years to be used

\sphinxAtStartPar
returns: scenarios (list): list of dictionaries with scenario details that are available and desired

\end{fulllineitems}



\subsection{WasteAndMaterialFootprint.MakeCustomDatabase module}
\label{\detokenize{WMFootprint_api:module-WasteAndMaterialFootprint.MakeCustomDatabase}}\label{\detokenize{WMFootprint_api:wasteandmaterialfootprint-makecustomdatabase-module}}\index{module@\spxentry{module}!WasteAndMaterialFootprint.MakeCustomDatabase@\spxentry{WasteAndMaterialFootprint.MakeCustomDatabase}}\index{WasteAndMaterialFootprint.MakeCustomDatabase@\spxentry{WasteAndMaterialFootprint.MakeCustomDatabase}!module@\spxentry{module}}

\subsubsection{MakeCustomDatabase Module}
\label{\detokenize{WMFootprint_api:makecustomdatabase-module}}
\sphinxAtStartPar
This module contains functions for creating an xlsx representation of a Brightway2 database 
and importing it into Brightway2.

\sphinxAtStartPar
Main functions:
\sphinxhyphen{} dbWriteExcel: Creates an xlsx file representing a custom Brightway2 database.
\sphinxhyphen{} dbExcel2BW: Imports the custom database (created by dbWriteExcel) into Brightway2.
\index{dbExcel2BW() (in module WasteAndMaterialFootprint.MakeCustomDatabase)@\spxentry{dbExcel2BW()}\spxextra{in module WasteAndMaterialFootprint.MakeCustomDatabase}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{WMFootprint_api:WasteAndMaterialFootprint.MakeCustomDatabase.dbExcel2BW}}
\pysigstartsignatures
\pysiglinewithargsret{\sphinxcode{\sphinxupquote{WasteAndMaterialFootprint.MakeCustomDatabase.}}\sphinxbfcode{\sphinxupquote{dbExcel2BW}}}{}{}
\pysigstopsignatures
\sphinxAtStartPar
Import the custom database (created by dbWriteExcel) into Brightway2.

\sphinxAtStartPar
This function imports a custom Brightway2 database from an Excel file into the Brightway2 software,
making it available for further environmental impact analysis.
\begin{quote}\begin{description}
\sphinxlineitem{Returns}
\sphinxAtStartPar
None

\end{description}\end{quote}

\end{fulllineitems}

\index{dbWriteExcel() (in module WasteAndMaterialFootprint.MakeCustomDatabase)@\spxentry{dbWriteExcel()}\spxextra{in module WasteAndMaterialFootprint.MakeCustomDatabase}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{WMFootprint_api:WasteAndMaterialFootprint.MakeCustomDatabase.dbWriteExcel}}
\pysigstartsignatures
\pysiglinewithargsret{\sphinxcode{\sphinxupquote{WasteAndMaterialFootprint.MakeCustomDatabase.}}\sphinxbfcode{\sphinxupquote{dbWriteExcel}}}{}{}
\pysigstopsignatures
\sphinxAtStartPar
Create an xlsx file representing a custom Brightway2 database.

\sphinxAtStartPar
This function generates an Excel file which represents a custom database for Brightway2,
using predefined directory and database settings.
\begin{quote}\begin{description}
\sphinxlineitem{Returns}
\sphinxAtStartPar
Path to the generated xlsx file.

\end{description}\end{quote}

\end{fulllineitems}

\index{determine\_unit\_from\_name() (in module WasteAndMaterialFootprint.MakeCustomDatabase)@\spxentry{determine\_unit\_from\_name()}\spxextra{in module WasteAndMaterialFootprint.MakeCustomDatabase}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{WMFootprint_api:WasteAndMaterialFootprint.MakeCustomDatabase.determine_unit_from_name}}
\pysigstartsignatures
\pysiglinewithargsret{\sphinxcode{\sphinxupquote{WasteAndMaterialFootprint.MakeCustomDatabase.}}\sphinxbfcode{\sphinxupquote{determine\_unit\_from\_name}}}{\sphinxparam{\DUrole{n}{name}}}{}
\pysigstopsignatures
\sphinxAtStartPar
Determine the unit based on the name.
\begin{quote}\begin{description}
\sphinxlineitem{Parameters}
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{name}} \textendash{} The name from which to infer the unit.

\sphinxlineitem{Returns}
\sphinxAtStartPar
The inferred unit as a string.

\end{description}\end{quote}

\end{fulllineitems}

\index{get\_files\_from\_tree() (in module WasteAndMaterialFootprint.MakeCustomDatabase)@\spxentry{get\_files\_from\_tree()}\spxextra{in module WasteAndMaterialFootprint.MakeCustomDatabase}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{WMFootprint_api:WasteAndMaterialFootprint.MakeCustomDatabase.get_files_from_tree}}
\pysigstartsignatures
\pysiglinewithargsret{\sphinxcode{\sphinxupquote{WasteAndMaterialFootprint.MakeCustomDatabase.}}\sphinxbfcode{\sphinxupquote{get\_files\_from\_tree}}}{\sphinxparam{\DUrole{n}{dir\_searchmaterial\_results}}\sphinxparamcomma \sphinxparam{\DUrole{n}{dir\_searchwaste\_results}}}{}
\pysigstopsignatures
\sphinxAtStartPar
Collects filenames from the SearchMaterial and SearchWasteResults directories.
\begin{quote}\begin{description}
\sphinxlineitem{Parameters}\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{dir\_searchmaterial\_results}} \textendash{} Directory path for SearchMaterial results.

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{dir\_searchwaste\_results}} \textendash{} Directory path for SearchWasteResults.

\end{itemize}

\sphinxlineitem{Returns}
\sphinxAtStartPar
Sorted list of filenames.

\end{description}\end{quote}

\end{fulllineitems}



\subsection{WasteAndMaterialFootprint.MethodEditor module}
\label{\detokenize{WMFootprint_api:module-WasteAndMaterialFootprint.MethodEditor}}\label{\detokenize{WMFootprint_api:wasteandmaterialfootprint-methodeditor-module}}\index{module@\spxentry{module}!WasteAndMaterialFootprint.MethodEditor@\spxentry{WasteAndMaterialFootprint.MethodEditor}}\index{WasteAndMaterialFootprint.MethodEditor@\spxentry{WasteAndMaterialFootprint.MethodEditor}!module@\spxentry{module}}

\subsubsection{MethodEditor Module}
\label{\detokenize{WMFootprint_api:methodeditor-module}}
\sphinxAtStartPar
This module provides functions for adding, deleting, and checking methods related to waste and material footprints in a project.


\paragraph{Function Summary:}
\label{\detokenize{WMFootprint_api:function-summary}}\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxtitleref{AddMethods}: Adds new methods to a project based on a custom biosphere database.

\item {} 
\sphinxAtStartPar
\sphinxtitleref{DeleteMethods}: Removes specific methods from a project, particularly those related to waste and material footprints.

\item {} 
\sphinxAtStartPar
\sphinxtitleref{CheckMethods}: Lists and checks the methods in a project, focusing on those associated with waste and material footprints.

\end{itemize}
\index{AddMethods() (in module WasteAndMaterialFootprint.MethodEditor)@\spxentry{AddMethods()}\spxextra{in module WasteAndMaterialFootprint.MethodEditor}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{WMFootprint_api:WasteAndMaterialFootprint.MethodEditor.AddMethods}}
\pysigstartsignatures
\pysiglinewithargsret{\sphinxcode{\sphinxupquote{WasteAndMaterialFootprint.MethodEditor.}}\sphinxbfcode{\sphinxupquote{AddMethods}}}{}{}
\pysigstopsignatures
\sphinxAtStartPar
Add methods to the specified project based on entries in the custom biosphere database.
\begin{quote}\begin{description}
\sphinxlineitem{Parameters}\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{project\_wmf}} \textendash{} Name of the project.

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{db\_wmf\_name}} \textendash{} Name of the database.

\end{itemize}

\end{description}\end{quote}

\end{fulllineitems}

\index{CheckMethods() (in module WasteAndMaterialFootprint.MethodEditor)@\spxentry{CheckMethods()}\spxextra{in module WasteAndMaterialFootprint.MethodEditor}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{WMFootprint_api:WasteAndMaterialFootprint.MethodEditor.CheckMethods}}
\pysigstartsignatures
\pysiglinewithargsret{\sphinxcode{\sphinxupquote{WasteAndMaterialFootprint.MethodEditor.}}\sphinxbfcode{\sphinxupquote{CheckMethods}}}{}{}
\pysigstopsignatures
\sphinxAtStartPar
Check methods associated with the “WasteAndMaterial Footprint” in the specified project.
\begin{quote}\begin{description}
\sphinxlineitem{Parameters}
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{project\_wmf}} \textendash{} Name of the project.

\end{description}\end{quote}

\end{fulllineitems}

\index{DeleteMethods() (in module WasteAndMaterialFootprint.MethodEditor)@\spxentry{DeleteMethods()}\spxextra{in module WasteAndMaterialFootprint.MethodEditor}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{WMFootprint_api:WasteAndMaterialFootprint.MethodEditor.DeleteMethods}}
\pysigstartsignatures
\pysiglinewithargsret{\sphinxcode{\sphinxupquote{WasteAndMaterialFootprint.MethodEditor.}}\sphinxbfcode{\sphinxupquote{DeleteMethods}}}{}{}
\pysigstopsignatures
\sphinxAtStartPar
Delete methods associated with the “WasteAndMaterial Footprint” in the specified project.
\begin{quote}\begin{description}
\sphinxlineitem{Parameters}
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{project\_wmf}} \textendash{} Name of the project.

\end{description}\end{quote}

\end{fulllineitems}



\subsection{WasteAndMaterialFootprint.SearchMaterial module}
\label{\detokenize{WMFootprint_api:module-WasteAndMaterialFootprint.SearchMaterial}}\label{\detokenize{WMFootprint_api:wasteandmaterialfootprint-searchmaterial-module}}\index{module@\spxentry{module}!WasteAndMaterialFootprint.SearchMaterial@\spxentry{WasteAndMaterialFootprint.SearchMaterial}}\index{WasteAndMaterialFootprint.SearchMaterial@\spxentry{WasteAndMaterialFootprint.SearchMaterial}!module@\spxentry{module}}

\subsubsection{SearchMaterial Module}
\label{\detokenize{WMFootprint_api:searchmaterial-module}}
\sphinxAtStartPar
This script loads data from ‘\textless{}db name\textgreater{}\_exploded.pickle’, runs search queries, 
and produces a CSV to store the results and a log entry. The search queries are 
formatted as dictionaries with fields NAME, CODE, and search terms keywords\_AND, 
keywords\_OR, and keywords\_NOT. These queries are defined in \sphinxtitleref{config/queries\_waste.py}.
\index{SearchMaterial() (in module WasteAndMaterialFootprint.SearchMaterial)@\spxentry{SearchMaterial()}\spxextra{in module WasteAndMaterialFootprint.SearchMaterial}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{WMFootprint_api:WasteAndMaterialFootprint.SearchMaterial.SearchMaterial}}
\pysigstartsignatures
\pysiglinewithargsret{\sphinxcode{\sphinxupquote{WasteAndMaterialFootprint.SearchMaterial.}}\sphinxbfcode{\sphinxupquote{SearchMaterial}}}{\sphinxparam{\DUrole{n}{db\_name}}\sphinxparamcomma \sphinxparam{\DUrole{n}{project\_wmf}}}{}
\pysigstopsignatures
\sphinxAtStartPar
Search for materials in a specified database and extract related information.

\sphinxAtStartPar
This function takes a database name as input, sets the project to the respective database,
and looks for activities involving a predefined list of materials. It extracts relevant details
of these activities, such as ISIC and CPC classifications, and saves the details to a CSV file.
It also extracts related material exchanges and saves them to another CSV file.
\begin{quote}\begin{description}
\sphinxlineitem{Parameters}\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{db\_name}} \textendash{} The name of the database to search in.

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{project\_wmf}} \textendash{} The Brightway2 project to set as current for the search.

\end{itemize}

\sphinxlineitem{Returns}
\sphinxAtStartPar
None

\sphinxlineitem{Raises}
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{Exception}} \textendash{} If there is any error in reading the materials list from the file.

\end{description}\end{quote}

\end{fulllineitems}



\subsection{WasteAndMaterialFootprint.SearchWaste module}
\label{\detokenize{WMFootprint_api:module-WasteAndMaterialFootprint.SearchWaste}}\label{\detokenize{WMFootprint_api:wasteandmaterialfootprint-searchwaste-module}}\index{module@\spxentry{module}!WasteAndMaterialFootprint.SearchWaste@\spxentry{WasteAndMaterialFootprint.SearchWaste}}\index{WasteAndMaterialFootprint.SearchWaste@\spxentry{WasteAndMaterialFootprint.SearchWaste}!module@\spxentry{module}}

\subsubsection{SearchWaste Module}
\label{\detokenize{WMFootprint_api:searchwaste-module}}
\sphinxAtStartPar
This script loads data from ‘\textless{}db name\textgreater{}\_exploded.pickle’, runs search queries, 
and produces CSV files to store the results and a log entry. The search queries are 
formatted as dictionaries with fields NAME, CODE, and search terms keywords\_AND, 
keywords\_OR, and keywords\_NOT. These queries are defined in \sphinxtitleref{config/queries\_waste.py}.


\paragraph{Functionality}
\label{\detokenize{WMFootprint_api:functionality}}
\sphinxAtStartPar
Provides a function, {\hyperref[\detokenize{WMFootprint_api:WasteAndMaterialFootprint.SearchWaste.SearchWaste}]{\sphinxcrossref{\sphinxcode{\sphinxupquote{SearchWaste()}}}}}, that loads data from ‘\textless{}db name\textgreater{}\_exploded.pickle’,
runs search queries, and produces result CSVs and log entries.
\index{SearchWaste() (in module WasteAndMaterialFootprint.SearchWaste)@\spxentry{SearchWaste()}\spxextra{in module WasteAndMaterialFootprint.SearchWaste}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{WMFootprint_api:WasteAndMaterialFootprint.SearchWaste.SearchWaste}}
\pysigstartsignatures
\pysiglinewithargsret{\sphinxcode{\sphinxupquote{WasteAndMaterialFootprint.SearchWaste.}}\sphinxbfcode{\sphinxupquote{SearchWaste}}}{\sphinxparam{\DUrole{n}{db\_name}}\sphinxparamcomma \sphinxparam{\DUrole{n}{dir\_searchwaste\_results}\DUrole{o}{=}\DUrole{default_value}{PosixPath(\textquotesingle{}/home/stew/code/gh/WasteAndMaterialFootprint/docs/data/SearchWasteResults\textquotesingle{})}}}{}
\pysigstopsignatures
\sphinxAtStartPar
Load data from ‘\textless{}db name\textgreater{}\_exploded.pickle’, run search queries, and produce
result CSVs and log entries.

\sphinxAtStartPar
This function processes waste\sphinxhyphen{}related data from a given database and runs
predefined queries to identify relevant waste exchanges. The results are
saved in CSV files and log entries are created for each search operation.
\begin{quote}\begin{description}
\sphinxlineitem{Parameters}
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{db\_name}} (\sphinxstyleliteralemphasis{\sphinxupquote{str}}) \textendash{} The database name to be used in the search operation.

\end{description}\end{quote}

\sphinxAtStartPar
Note:
The queries are defined in \sphinxtitleref{config/queries\_waste.py}.

\end{fulllineitems}



\subsection{WasteAndMaterialFootprint.VerifyDatabase module}
\label{\detokenize{WMFootprint_api:module-WasteAndMaterialFootprint.VerifyDatabase}}\label{\detokenize{WMFootprint_api:wasteandmaterialfootprint-verifydatabase-module}}\index{module@\spxentry{module}!WasteAndMaterialFootprint.VerifyDatabase@\spxentry{WasteAndMaterialFootprint.VerifyDatabase}}\index{WasteAndMaterialFootprint.VerifyDatabase@\spxentry{WasteAndMaterialFootprint.VerifyDatabase}!module@\spxentry{module}}

\subsubsection{VerifyDatabase Module}
\label{\detokenize{WMFootprint_api:verifydatabase-module}}
\sphinxAtStartPar
This module contains a function to verify a (WasteAndMaterialFootprint) database 
within a given project in Brightway2. It performs a verification by calculating LCA scores 
for random activities within the specified database using selected methods.
\index{VerifyDatabase() (in module WasteAndMaterialFootprint.VerifyDatabase)@\spxentry{VerifyDatabase()}\spxextra{in module WasteAndMaterialFootprint.VerifyDatabase}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{WMFootprint_api:WasteAndMaterialFootprint.VerifyDatabase.VerifyDatabase}}
\pysigstartsignatures
\pysiglinewithargsret{\sphinxcode{\sphinxupquote{WasteAndMaterialFootprint.VerifyDatabase.}}\sphinxbfcode{\sphinxupquote{VerifyDatabase}}}{\sphinxparam{\DUrole{n}{project\_name}}\sphinxparamcomma \sphinxparam{\DUrole{n}{database\_name}}\sphinxparamcomma \sphinxparam{\DUrole{n}{check\_material}\DUrole{o}{=}\DUrole{default_value}{True}}\sphinxparamcomma \sphinxparam{\DUrole{n}{check\_waste}\DUrole{o}{=}\DUrole{default_value}{True}}\sphinxparamcomma \sphinxparam{\DUrole{n}{log}\DUrole{o}{=}\DUrole{default_value}{True}}}{}
\pysigstopsignatures
\sphinxAtStartPar
Verifies a database within a given project in Brightway2 by calculating LCA scores
for random activities using selected methods.

\sphinxAtStartPar
This function assesses the integrity and validity of a specified database within a Brightway2 project.
It performs LCA calculations on random activities using Waste Footprint and Material Demand Footprint methods,
and logs the results.
\begin{quote}\begin{description}
\sphinxlineitem{Parameters}\begin{itemize}
\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{project\_name}} (\sphinxstyleliteralemphasis{\sphinxupquote{str}}) \textendash{} The name of the Brightway2 project.

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{database\_name}} (\sphinxstyleliteralemphasis{\sphinxupquote{str}}) \textendash{} The name of the database to be verified.

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{check\_material}} (\sphinxstyleliteralemphasis{\sphinxupquote{bool}}) \textendash{} If True, checks for Material Demand Footprint methods.

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{check\_waste}} (\sphinxstyleliteralemphasis{\sphinxupquote{bool}}) \textendash{} If True, checks for Waste Footprint methods.

\item {} 
\sphinxAtStartPar
\sphinxstyleliteralstrong{\sphinxupquote{log}} (\sphinxstyleliteralemphasis{\sphinxupquote{bool}}) \textendash{} If True, logs the results.

\end{itemize}

\sphinxlineitem{Returns}
\sphinxAtStartPar
Exit code (0 for success, 1 for failure).

\end{description}\end{quote}

\end{fulllineitems}



\chapter{Configuration}
\label{\detokenize{modules_api:configuration}}
\sphinxstepscope


\section{Configuration}
\label{\detokenize{configuration_api:configuration}}\label{\detokenize{configuration_api::doc}}

\subsection{config.user\_settings module}
\label{\detokenize{configuration_api:module-config.user_settings}}\label{\detokenize{configuration_api:config-user-settings-module}}\index{module@\spxentry{module}!config.user\_settings@\spxentry{config.user\_settings}}\index{config.user\_settings@\spxentry{config.user\_settings}!module@\spxentry{module}}

\subsubsection{user\_settings Module}
\label{\detokenize{configuration_api:user-settings-module}}
\sphinxAtStartPar
Configure Project and Database Settings for WasteAndMaterialFootprint tool.

\sphinxAtStartPar
This script is used to configure the project and database settings, as well as set up the essential paths for the data, config, and result directories.
\begin{description}
\sphinxlineitem{The script allows for two modes of operation:}\begin{enumerate}
\sphinxsetlistlabels{\arabic}{enumi}{enumii}{}{.}%
\item {} 
\sphinxAtStartPar
Single Mode (\sphinxtitleref{single} is True): Set the project and database names to a single specified value.

\item {} 
\sphinxAtStartPar
Multiple projects/databases mode (\sphinxtitleref{single} is False): Facilitates batch processing of multiple projects and databases.

\end{enumerate}

\end{description}

\sphinxAtStartPar
Additionally, the script allows for the use of multiprocessing (\sphinxtitleref{use\_multiprocessing} is True).

\sphinxAtStartPar
Premise can also be used to make future databases (\sphinxtitleref{use\_premise} is True).
\index{generate\_args\_list() (in module config.user\_settings)@\spxentry{generate\_args\_list()}\spxextra{in module config.user\_settings}}

\begin{fulllineitems}
\phantomsection\label{\detokenize{configuration_api:config.user_settings.generate_args_list}}
\pysigstartsignatures
\pysiglinewithargsret{\sphinxcode{\sphinxupquote{config.user\_settings.}}\sphinxbfcode{\sphinxupquote{generate\_args\_list}}}{\sphinxparam{\DUrole{n}{single\_database}\DUrole{o}{=}\DUrole{default_value}{None}}}{}
\pysigstopsignatures
\sphinxAtStartPar
Generate a list of argument dictionaries for processing multiple projects and databases.

\sphinxAtStartPar
This function is used when the tool is set to operate in multiple projects/databases mode.
It generates a list of argument dictionaries, each containing project and database settings.
\begin{quote}\begin{description}
\sphinxlineitem{Returns}
\sphinxAtStartPar
A list of dictionaries with project and database settings for batch processing.

\end{description}\end{quote}

\end{fulllineitems}


\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{l+s+sd}{\PYGZdq{}\PYGZdq{}\PYGZdq{}}
\PYG{l+s+sd}{user\PYGZus{}settings Module}
\PYG{l+s+sd}{====================}

\PYG{l+s+sd}{Configure Project and Database Settings for WasteAndMaterialFootprint tool.}

\PYG{l+s+sd}{This script is used to configure the project and database settings, as well as set up the essential paths for the data, config, and result directories.}

\PYG{l+s+sd}{The script allows for two modes of operation:}
\PYG{l+s+sd}{    1. Single Mode (`single` is True): Set the project and database names to a single specified value.}
\PYG{l+s+sd}{    2. Multiple projects/databases mode (`single` is False): Facilitates batch processing of multiple projects and databases.}

\PYG{l+s+sd}{Additionally, the script allows for the use of multiprocessing (`use\PYGZus{}multiprocessing` is True). }

\PYG{l+s+sd}{Premise can also be used to make future databases (`use\PYGZus{}premise` is True).}


\PYG{l+s+sd}{\PYGZdq{}\PYGZdq{}\PYGZdq{}}

\PYG{k+kn}{import} \PYG{n+nn}{os}
\PYG{k+kn}{import} \PYG{n+nn}{shutil}
\PYG{k+kn}{from} \PYG{n+nn}{itertools} \PYG{k+kn}{import} \PYG{n}{product}
\PYG{k+kn}{from} \PYG{n+nn}{pathlib} \PYG{k+kn}{import} \PYG{n}{Path}

\PYG{c+c1}{\PYGZsh{} ============================================================}
\PYG{c+c1}{\PYGZsh{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{c+c1}{\PYGZsh{}\PYGZsh{} SETTINGS FOR BRIGHTWAY2}

\PYG{c+c1}{\PYGZsh{} you can set the brightway2 directory here, otherwise it will use the default one}
\PYG{c+c1}{\PYGZsh{} custom\PYGZus{}bw2\PYGZus{}dir = os.path.expanduser(\PYGZdq{}\PYGZti{}\PYGZdq{}) + \PYGZsq{}/brightway2data\PYGZsq{}}
\PYG{n}{custom\PYGZus{}bw2\PYGZus{}dir} \PYG{o}{=} \PYG{k+kc}{None}
\PYG{k}{if} \PYG{n}{custom\PYGZus{}bw2\PYGZus{}dir}\PYG{p}{:}
    \PYG{n}{os}\PYG{o}{.}\PYG{n}{environ}\PYG{p}{[}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{BRIGHTWAY2\PYGZus{}DIR}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{]} \PYG{o}{=} \PYG{n}{custom\PYGZus{}bw2\PYGZus{}dir}

\PYG{k+kn}{import} \PYG{n+nn}{bw2data} \PYG{k}{as} \PYG{n+nn}{bd}

\PYG{c+c1}{\PYGZsh{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{c+c1}{\PYGZsh{}\PYGZsh{} SETTINGS FOR PROJECTS}
\PYG{c+c1}{\PYGZsh{} set project name and other things here}

\PYG{n}{project\PYGZus{}premise\PYGZus{}base} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{default}\PYG{l+s+s2}{\PYGZdq{}}
\PYG{n}{project\PYGZus{}premise} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{SSP\PYGZhy{}cutoff}\PYG{l+s+s2}{\PYGZdq{}}
\PYG{n}{project\PYGZus{}base} \PYG{o}{=} \PYG{n}{project\PYGZus{}premise}
\PYG{c+c1}{\PYGZsh{} if you want to use the same project for the wmf tool, change this to project\PYGZus{}base, otherwise, it will create a new project}
\PYG{n}{project\PYGZus{}wmf} \PYG{o}{=} \PYG{l+s+sa}{f}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{WMFootprint\PYGZhy{}}\PYG{l+s+si}{\PYGZob{}}\PYG{n}{project\PYGZus{}base}\PYG{l+s+si}{\PYGZcb{}}\PYG{l+s+s2}{\PYGZdq{}}

\PYG{c+c1}{\PYGZsh{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{c+c1}{\PYGZsh{}\PYGZsh{} SETTINGS FOR THE WASTEANDMATERIAL FOOTPRINT TOOL}
\PYG{n}{use\PYGZus{}wmf} \PYG{o}{=} \PYG{k+kc}{False}
\PYG{n}{db\PYGZus{}wmf\PYGZus{}name} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{WasteAndMaterialFootprint}\PYG{l+s+s2}{\PYGZdq{}}  \PYG{c+c1}{\PYGZsh{} name of the database that will be created (pseudobiosphere)}

\PYG{c+c1}{\PYGZsh{} if you only want to run one database, set single to True and choose the database name here}
\PYG{n}{single} \PYG{o}{=} \PYG{k+kc}{False}
\PYG{n}{single\PYGZus{}database} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{ecoinvent\PYGZus{}cutoff\PYGZus{}3.9\PYGZus{}remind\PYGZus{}SSP5\PYGZhy{}Base\PYGZus{}2050}\PYG{l+s+s2}{\PYGZdq{}}

\PYG{c+c1}{\PYGZsh{} if you want to use a fresh project}
\PYG{n}{delete\PYGZus{}wmf\PYGZus{}project} \PYG{o}{=} \PYG{k+kc}{False}
\PYG{n}{use\PYGZus{}multiprocessing} \PYG{o}{=} \PYG{k+kc}{False}
\PYG{n}{verbose} \PYG{o}{=} \PYG{k+kc}{False}

\PYG{c+c1}{\PYGZsh{} set these to True if you want to run the different parts of the tool separately}
\PYG{n}{do\PYGZus{}search} \PYG{o}{=} \PYG{k+kc}{True}
\PYG{n}{do\PYGZus{}methods} \PYG{o}{=} \PYG{k+kc}{True}
\PYG{n}{do\PYGZus{}edit} \PYG{o}{=} \PYG{k+kc}{True}

\PYG{c+c1}{\PYGZsh{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{c+c1}{\PYGZsh{}\PYGZsh{} PREMISE SETTINGS \PYGZhy{}  to construct future LCA databases with premise}

\PYG{n}{use\PYGZus{}premise} \PYG{o}{=} \PYG{k+kc}{True}

\PYG{c+c1}{\PYGZsh{} this will be the database that premise will use to construct the future databases}
\PYG{n}{database\PYGZus{}name} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{ecoinvent\PYGZhy{}3.9.1\PYGZhy{}cutoff}\PYG{l+s+s2}{\PYGZdq{}}

\PYG{c+c1}{\PYGZsh{} if you want to use a fresh project}
\PYG{n}{delete\PYGZus{}existing\PYGZus{}premise\PYGZus{}project} \PYG{o}{=} \PYG{k+kc}{False}

\PYG{c+c1}{\PYGZsh{} if you want to use multiprocessing (some people have reported problems with this)}
\PYG{n}{use\PYGZus{}mp} \PYG{o}{=} \PYG{k+kc}{True}

\PYG{c+c1}{\PYGZsh{} if you want to give premise multiple databases at once, increase this number, otherwise, leave it at 1. From my experience, it is better to give it one database at a time, otherwise memory issues can occur.}
\PYG{n}{batch\PYGZus{}size} \PYG{o}{=} \PYG{l+m+mi}{1}

\PYG{c+c1}{\PYGZsh{} This seems not to have much effect, because most of the print statemenents are in `wurst`, not in `premise`}
\PYG{n}{premise\PYGZus{}quiet} \PYG{o}{=} \PYG{k+kc}{True}

\PYG{k}{if} \PYG{n}{use\PYGZus{}premise} \PYG{o+ow}{and} \PYG{n}{project\PYGZus{}base} \PYG{o}{!=} \PYG{n}{project\PYGZus{}premise}\PYG{p}{:}
    \PYG{n}{project\PYGZus{}wmf} \PYG{o}{=} \PYG{l+s+sa}{f}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{WMFootprint\PYGZhy{}}\PYG{l+s+si}{\PYGZob{}}\PYG{n}{project\PYGZus{}premise}\PYG{l+s+si}{\PYGZcb{}}\PYG{l+s+s2}{\PYGZdq{}}

\PYG{c+c1}{\PYGZsh{} Get the premise key (at the moment, it is stored in the code to make it easier for people, but it would be better to have it in a file)}
\PYG{n}{premise\PYGZus{}key} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{tUePmX\PYGZus{}S5B8ieZkkM7WUU2CnO8SmShwmAeWK9x2rTFo=}\PYG{l+s+s2}{\PYGZdq{}}
\PYG{k}{if} \PYG{n}{premise\PYGZus{}key} \PYG{o+ow}{is} \PYG{k+kc}{None}\PYG{p}{:}
    \PYG{n}{key\PYGZus{}path} \PYG{o}{=} \PYG{n}{Path}\PYG{p}{(}\PYG{n+nv+vm}{\PYGZus{}\PYGZus{}file\PYGZus{}\PYGZus{}}\PYG{p}{)}\PYG{o}{.}\PYG{n}{parents}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{]} \PYG{o}{/} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{.secrets}\PYG{l+s+s2}{\PYGZdq{}} \PYG{o}{/} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{premise\PYGZus{}key.txt}\PYG{l+s+s2}{\PYGZdq{}}
    \PYG{k}{with} \PYG{n+nb}{open}\PYG{p}{(}\PYG{n}{key\PYGZus{}path}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{r}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)} \PYG{k}{as} \PYG{n}{f}\PYG{p}{:}
        \PYG{n}{premise\PYGZus{}key} \PYG{o}{=} \PYG{n}{f}\PYG{o}{.}\PYG{n}{read}\PYG{p}{(}\PYG{p}{)}


\PYG{c+c1}{\PYGZsh{} ************************************************************}
\PYG{c+c1}{\PYGZsh{}\PYGZsh{}  CHOOSE THE SCENARIOS YOU WANT TO USE WITH PREMISE}

\PYG{c+c1}{\PYGZsh{} Details of the scenarios can be found here:}
\PYG{c+c1}{\PYGZsh{} carbonbrief.org/explainer\PYGZhy{}how\PYGZhy{}shared\PYGZhy{}socioeconomic\PYGZhy{}pathways\PYGZhy{}explore\PYGZhy{}future\PYGZhy{}climate\PYGZhy{}change/}
\PYG{c+c1}{\PYGZsh{} https://premise.readthedocs.io/en/latest/}
\PYG{c+c1}{\PYGZsh{} https://premisedash\PYGZhy{}6f5a0259c487.herokuapp.com/ (there is a nice dashboard here to explore the scenarios)}


\PYG{c+c1}{\PYGZsh{} Comment out the scenarios you don\PYGZsq{}t want to use, otherwise all potential scenarios will be attempted}
\PYG{c+c1}{\PYGZsh{} The full list of available scenarios is in the `filenames` variable (at the moment there are 15, but there could be more in future updates)}
\PYG{c+c1}{\PYGZsh{} Not all combinations are available, the code in FutureScenarios.py will filter out the scenarios that are not possible}

\PYG{n}{models} \PYG{o}{=} \PYG{p}{[}
    \PYG{c+c1}{\PYGZsh{} \PYGZdq{}image\PYGZdq{},}
    \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{remind}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}
\PYG{p}{]}

\PYG{n}{ssps} \PYG{o}{=} \PYG{p}{[}
    \PYG{c+c1}{\PYGZsh{} \PYGZdq{}SSP1\PYGZdq{},}
    \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{SSP2}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}
    \PYG{c+c1}{\PYGZsh{} \PYGZdq{}SSP5\PYGZdq{},}
\PYG{p}{]}

\PYG{c+c1}{\PYGZsh{} default is to have an optimistic and a pessimistic scenario}
\PYG{n}{rcps} \PYG{o}{=} \PYG{p}{[}
    \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Base}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}
    \PYG{c+c1}{\PYGZsh{} \PYGZdq{}RCP19\PYGZdq{},}
    \PYG{c+c1}{\PYGZsh{} \PYGZdq{}RCP26\PYGZdq{},}
    \PYG{c+c1}{\PYGZsh{} \PYGZdq{}NPi\PYGZdq{},}
    \PYG{c+c1}{\PYGZsh{} \PYGZdq{}NDC\PYGZdq{},}
    \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{PkBudg500}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}
    \PYG{c+c1}{\PYGZsh{} \PYGZdq{}PkBudg1150\PYGZdq{},}
\PYG{p}{]}

\PYG{c+c1}{\PYGZsh{} If the years you put here are inside the range of the scenario, it will interpolate the data, otherwise, probably it fails. Most of the scenarios are between 2020 and 2100, I think. 5 year intervals until 2050, then 10 year intervals until 2100.}

\PYG{n}{years} \PYG{o}{=} \PYG{p}{[}
    \PYG{c+c1}{\PYGZsh{} 2020,}
    \PYG{c+c1}{\PYGZsh{} 2025,}
    \PYG{l+m+mi}{2030}\PYG{p}{,}
    \PYG{c+c1}{\PYGZsh{} 2035,}
    \PYG{c+c1}{\PYGZsh{} 2040,}
    \PYG{c+c1}{\PYGZsh{} 2045,}
    \PYG{c+c1}{\PYGZsh{} 2050,}
    \PYG{c+c1}{\PYGZsh{} 2060,}
    \PYG{l+m+mi}{2065}\PYG{p}{,}
    \PYG{c+c1}{\PYGZsh{} 2070,}
    \PYG{c+c1}{\PYGZsh{} 2080,}
    \PYG{c+c1}{\PYGZsh{} 2090,}
    \PYG{l+m+mi}{2100}\PYG{p}{,}
\PYG{p}{]}

\PYG{c+c1}{\PYGZsh{} this part makes all the possible combinations of the scenarios you want to use, the will be filtered out later if they are not possible}

\PYG{n}{desired\PYGZus{}scenarios} \PYG{o}{=} \PYG{p}{[}\PYG{p}{]}
\PYG{k}{for} \PYG{n}{model}\PYG{p}{,} \PYG{n}{ssp}\PYG{p}{,} \PYG{n}{rcp} \PYG{o+ow}{in} \PYG{n}{product}\PYG{p}{(}\PYG{n}{models}\PYG{p}{,} \PYG{n}{ssps}\PYG{p}{,} \PYG{n}{rcps}\PYG{p}{)}\PYG{p}{:}
    \PYG{n}{desired\PYGZus{}scenarios}\PYG{o}{.}\PYG{n}{append}\PYG{p}{(}\PYG{p}{\PYGZob{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{model}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{n}{model}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{pathway}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{n}{ssp} \PYG{o}{+} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{\PYGZhy{}}\PYG{l+s+s2}{\PYGZdq{}} \PYG{o}{+} \PYG{n}{rcp}\PYG{p}{\PYGZcb{}}\PYG{p}{)}


\PYG{c+c1}{\PYGZsh{} Set the arguments list of projects and databases to be processed with the WMF tool}
\PYG{k}{def} \PYG{n+nf}{generate\PYGZus{}args\PYGZus{}list}\PYG{p}{(}\PYG{n}{single\PYGZus{}database}\PYG{o}{=}\PYG{k+kc}{None}\PYG{p}{)}\PYG{p}{:}
\PYG{+w}{    }\PYG{l+s+sd}{\PYGZdq{}\PYGZdq{}\PYGZdq{}}
\PYG{l+s+sd}{    Generate a list of argument dictionaries for processing multiple projects and databases.}

\PYG{l+s+sd}{    This function is used when the tool is set to operate in multiple projects/databases mode.}
\PYG{l+s+sd}{    It generates a list of argument dictionaries, each containing project and database settings.}

\PYG{l+s+sd}{    :returns: A list of dictionaries with project and database settings for batch processing.}
\PYG{l+s+sd}{    \PYGZdq{}\PYGZdq{}\PYGZdq{}}
    \PYG{n}{bd}\PYG{o}{.}\PYG{n}{projects}\PYG{o}{.}\PYG{n}{set\PYGZus{}current}\PYG{p}{(}\PYG{n}{project\PYGZus{}base}\PYG{p}{)}
    \PYG{k}{if} \PYG{n}{single}\PYG{p}{:}
        \PYG{n}{databases} \PYG{o}{=} \PYG{p}{[}\PYG{n}{single\PYGZus{}database}\PYG{p}{]}

    \PYG{k}{else}\PYG{p}{:}
        \PYG{n}{exclude} \PYG{o}{=} \PYG{p}{[}
            \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{biosphere}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}
            \PYG{n}{db\PYGZus{}wmf\PYGZus{}name}\PYG{p}{,}  \PYG{c+c1}{\PYGZsh{} this is the database that will be created by the wmf tool}
        \PYG{p}{]}
        \PYG{n}{databases} \PYG{o}{=} \PYG{n+nb}{sorted}\PYG{p}{(}
            \PYG{p}{[}\PYG{n}{x} \PYG{k}{for} \PYG{n}{x} \PYG{o+ow}{in} \PYG{n}{bd}\PYG{o}{.}\PYG{n}{databases} \PYG{k}{if} \PYG{o+ow}{not} \PYG{n+nb}{any}\PYG{p}{(}\PYG{n}{sub} \PYG{o+ow}{in} \PYG{n}{x} \PYG{k}{for} \PYG{n}{sub} \PYG{o+ow}{in} \PYG{n}{exclude}\PYG{p}{)}\PYG{p}{]}
        \PYG{p}{)}

    \PYG{n}{args\PYGZus{}list} \PYG{o}{=} \PYG{p}{[}\PYG{p}{]}
    \PYG{k}{for} \PYG{n}{database} \PYG{o+ow}{in} \PYG{n}{databases}\PYG{p}{:}
        \PYG{n}{args} \PYG{o}{=} \PYG{p}{\PYGZob{}}
            \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{project\PYGZus{}base}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{n}{project\PYGZus{}base}\PYG{p}{,}
            \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{project\PYGZus{}wmf}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{n}{project\PYGZus{}wmf}\PYG{p}{,}
            \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{db\PYGZus{}name}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{n}{database}\PYG{p}{,}
            \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{db\PYGZus{}wmf\PYGZus{}name}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{n}{db\PYGZus{}wmf\PYGZus{}name}\PYG{p}{,}
        \PYG{p}{\PYGZcb{}}
        \PYG{n}{args\PYGZus{}list}\PYG{o}{.}\PYG{n}{append}\PYG{p}{(}\PYG{n}{args}\PYG{p}{)}

    \PYG{k}{return} \PYG{n}{args\PYGZus{}list}


\PYG{c+c1}{\PYGZsh{} \PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{c+c1}{\PYGZsh{}\PYGZsh{} GENERAL DIRECTORY PATHS}
\PYG{c+c1}{\PYGZsh{} Set the paths (to the data, config, logs, and the results)}
\PYG{c+c1}{\PYGZsh{} By default, the program will create new directories in the working directory}


\PYG{c+c1}{\PYGZsh{} Get the directory of the main script}
\PYG{n}{cwd} \PYG{o}{=} \PYG{n}{Path}\PYG{o}{.}\PYG{n}{cwd}\PYG{p}{(}\PYG{p}{)}
\PYG{c+c1}{\PYGZsh{} Set the paths}
\PYG{n}{dir\PYGZus{}config} \PYG{o}{=} \PYG{n}{cwd} \PYG{o}{/} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{config}\PYG{l+s+s2}{\PYGZdq{}}

\PYG{n}{list\PYGZus{}materials} \PYG{o}{=} \PYG{n}{dir\PYGZus{}config} \PYG{o}{/} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{list\PYGZus{}materials.txt}\PYG{l+s+s2}{\PYGZdq{}}

\PYG{n}{dir\PYGZus{}data} \PYG{o}{=} \PYG{n}{cwd} \PYG{o}{/} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{data}\PYG{l+s+s2}{\PYGZdq{}}

\PYG{n}{dir\PYGZus{}tmp} \PYG{o}{=} \PYG{n}{dir\PYGZus{}data} \PYG{o}{/} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{tmp}\PYG{l+s+s2}{\PYGZdq{}}
\PYG{n}{dir\PYGZus{}logs} \PYG{o}{=} \PYG{n}{dir\PYGZus{}data} \PYG{o}{/} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{logs}\PYG{l+s+s2}{\PYGZdq{}}

\PYG{n}{dir\PYGZus{}searchwaste\PYGZus{}results} \PYG{o}{=} \PYG{n}{dir\PYGZus{}data} \PYG{o}{/} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{SearchWasteResults}\PYG{l+s+s2}{\PYGZdq{}}
\PYG{n}{dir\PYGZus{}searchmaterial\PYGZus{}results} \PYG{o}{=} \PYG{n}{dir\PYGZus{}data} \PYG{o}{/} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{SearchMaterialResults}\PYG{l+s+s2}{\PYGZdq{}}
\PYG{n}{dir\PYGZus{}databases\PYGZus{}wasteandmaterial} \PYG{o}{=} \PYG{n}{dir\PYGZus{}data} \PYG{o}{/} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{DatabasesWasteAndMaterial}\PYG{l+s+s2}{\PYGZdq{}}

\PYG{n}{dir\PYGZus{}wmf} \PYG{o}{=} \PYG{p}{[}
    \PYG{n}{dir\PYGZus{}tmp}\PYG{p}{,}
    \PYG{n}{dir\PYGZus{}logs}\PYG{p}{,}
    \PYG{n}{dir\PYGZus{}searchwaste\PYGZus{}results}\PYG{p}{,}
    \PYG{n}{dir\PYGZus{}searchmaterial\PYGZus{}results}\PYG{p}{,}
    \PYG{n}{dir\PYGZus{}databases\PYGZus{}wasteandmaterial}\PYG{p}{,}
\PYG{p}{]}

\PYG{c+c1}{\PYGZsh{} this will delete old results and logs}
\PYG{k}{if} \PYG{n}{delete\PYGZus{}wmf\PYGZus{}project}\PYG{p}{:}
    \PYG{k}{for} \PYG{n+nb}{dir} \PYG{o+ow}{in} \PYG{n}{dir\PYGZus{}wmf}\PYG{p}{:}
        \PYG{k}{if} \PYG{n}{os}\PYG{o}{.}\PYG{n}{path}\PYG{o}{.}\PYG{n}{exists}\PYG{p}{(}\PYG{n+nb}{dir}\PYG{p}{)}\PYG{p}{:}
            \PYG{n}{shutil}\PYG{o}{.}\PYG{n}{rmtree}\PYG{p}{(}\PYG{n+nb}{dir}\PYG{p}{)}


\PYG{c+c1}{\PYGZsh{} FIN \PYGZsh{}}
\PYG{c+c1}{\PYGZsh{} ============================================================}
\end{sphinxVerbatim}


\subsection{config.queries\_waste module}
\label{\detokenize{configuration_api:module-config.queries_waste}}\label{\detokenize{configuration_api:config-queries-waste-module}}\index{module@\spxentry{module}!config.queries\_waste@\spxentry{config.queries\_waste}}\index{config.queries\_waste@\spxentry{config.queries\_waste}!module@\spxentry{module}}

\subsubsection{queries\_waste Module}
\label{\detokenize{configuration_api:queries-waste-module}}
\sphinxAtStartPar
This module defines the search parameters for each waste and material flow category. It is used in conjunction with \sphinxtitleref{SearchWaste.py} and requires a .pickle file generated by \sphinxtitleref{ExplodeDatabase.py}.

\sphinxAtStartPar
The queries are set up for different waste flow categories like digestion, composting, incineration, recycling, and landfill, among others. Each query is a dictionary containing search terms for the respective category.

\sphinxAtStartPar
The module creates two sets of queries:
1. \sphinxtitleref{queries\_kg} for waste flows measured in kilograms.
2. \sphinxtitleref{queries\_m3} for waste flows measured in cubic meters.

\sphinxAtStartPar
These queries are combined into the \sphinxtitleref{queries\_waste} list, which is then used by \sphinxtitleref{SearchWaste.py} for filtering and extracting relevant data from the database.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{l+s+sd}{\PYGZdq{}\PYGZdq{}\PYGZdq{}}
\PYG{l+s+sd}{queries\PYGZus{}waste Module}
\PYG{l+s+sd}{====================}

\PYG{l+s+sd}{This module defines the search parameters for each waste and material flow category. It is used in conjunction with `SearchWaste.py` and requires a .pickle file generated by `ExplodeDatabase.py`. }

\PYG{l+s+sd}{The queries are set up for different waste flow categories like digestion, composting, incineration, recycling, and landfill, among others. Each query is a dictionary containing search terms for the respective category.}

\PYG{l+s+sd}{The module creates two sets of queries:}
\PYG{l+s+sd}{1. `queries\PYGZus{}kg` for waste flows measured in kilograms.}
\PYG{l+s+sd}{2. `queries\PYGZus{}m3` for waste flows measured in cubic meters.}

\PYG{l+s+sd}{These queries are combined into the `queries\PYGZus{}waste` list, which is then used by `SearchWaste.py` for filtering and extracting relevant data from the database.}

\PYG{l+s+sd}{\PYGZdq{}\PYGZdq{}\PYGZdq{}}

\PYG{n}{names} \PYG{o}{=} \PYG{p}{[}
    \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{digestion}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}
    \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{composting}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}
    \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{open burning}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}
    \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{incineration}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}
    \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{recycling}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}
    \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{landfill}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}
    \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{hazardous}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}
    \PYG{c+c1}{\PYGZsh{} \PYGZdq{}non\PYGZhy{}hazardous\PYGZdq{}, \PYGZsh{} not really needed, as it is just \PYGZdq{}total\PYGZdq{} \PYGZhy{} \PYGZdq{}hazardous\PYGZdq{}, and it makes the process slower (20k+ more exchanges)}
    \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{carbon dioxide}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}  \PYG{c+c1}{\PYGZsh{} in prospective databases, carbon capture and storage is included}
    \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{total}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}
\PYG{p}{]}

\PYG{c+c1}{\PYGZsh{} QUERY FORMAT}
\PYG{c+c1}{\PYGZsh{} setup the dictionary of search terms for}
\PYG{c+c1}{\PYGZsh{} each waste and material flow category}

\PYG{n}{queries\PYGZus{}kg} \PYG{o}{=} \PYG{p}{[}\PYG{p}{]}
\PYG{k}{for} \PYG{n}{name} \PYG{o+ow}{in} \PYG{n}{names}\PYG{p}{:}
    \PYG{n}{query} \PYG{o}{=} \PYG{p}{\PYGZob{}}
        \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{db\PYGZus{}name}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}  \PYG{c+c1}{\PYGZsh{} db\PYGZus{}name}
        \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{db\PYGZus{}custom}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}  \PYG{c+c1}{\PYGZsh{} db\PYGZus{}wmf\PYGZus{}name}
        \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{name}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}
        \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{code}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}
        \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{unit}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{kilogram}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}
        \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{AND}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{p}{[}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{waste}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{]}\PYG{p}{,}
        \PYG{c+c1}{\PYGZsh{} if you replace \PYGZdq{}None\PYGZdq{} below, it must be with a with a list of strings, like the other keywords have}
        \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{OR}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{k+kc}{None}\PYG{p}{,}
        \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{NOT}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{k+kc}{None}\PYG{p}{,}
    \PYG{p}{\PYGZcb{}}

    \PYG{c+c1}{\PYGZsh{} define here what the search parameters mean for}
    \PYG{c+c1}{\PYGZsh{} each waste and material flow category}
    \PYG{c+c1}{\PYGZsh{} if you want to customize the search parameters, you will}
    \PYG{c+c1}{\PYGZsh{} likely need some trial and error to make sure you get what you want}

    \PYG{n}{query}\PYG{o}{.}\PYG{n}{update}\PYG{p}{(}\PYG{p}{\PYGZob{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{name}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{WasteFootprint\PYGZus{}}\PYG{l+s+s2}{\PYGZdq{}} \PYG{o}{+} \PYG{n}{name}\PYG{p}{\PYGZcb{}}\PYG{p}{)}
    \PYG{k}{if} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{landfill}\PYG{l+s+s2}{\PYGZdq{}} \PYG{o+ow}{in} \PYG{n}{name}\PYG{p}{:}
        \PYG{n}{query}\PYG{o}{.}\PYG{n}{update}\PYG{p}{(}\PYG{p}{\PYGZob{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{OR}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{p}{[}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{landfill}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{dumped}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{deposit}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{]}\PYG{p}{\PYGZcb{}}\PYG{p}{)}
    \PYG{k}{if} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{hazardous}\PYG{l+s+s2}{\PYGZdq{}} \PYG{o}{==} \PYG{n}{name}\PYG{p}{:}
        \PYG{n}{query}\PYG{o}{.}\PYG{n}{update}\PYG{p}{(}\PYG{p}{\PYGZob{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{OR}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{p}{[}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{hazardous}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{radioactive}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{]}\PYG{p}{\PYGZcb{}}\PYG{p}{)}
        \PYG{n}{query}\PYG{o}{.}\PYG{n}{update}\PYG{p}{(}\PYG{p}{\PYGZob{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{NOT}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{p}{[}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{non\PYGZhy{}hazardous}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{non\PYGZhy{}radioactive}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{]}\PYG{p}{\PYGZcb{}}\PYG{p}{)}
    \PYG{k}{if} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{non\PYGZhy{}hazardous}\PYG{l+s+s2}{\PYGZdq{}} \PYG{o}{==} \PYG{n}{name}\PYG{p}{:}
        \PYG{n}{query}\PYG{o}{.}\PYG{n}{update}\PYG{p}{(}\PYG{p}{\PYGZob{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{NOT}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{p}{[}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{hazardous}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{radioactive}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{]}\PYG{p}{\PYGZcb{}}\PYG{p}{)}
    \PYG{k}{if} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{incineration}\PYG{l+s+s2}{\PYGZdq{}} \PYG{o+ow}{in} \PYG{n}{name}\PYG{p}{:}
        \PYG{n}{query}\PYG{p}{[}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{AND}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{]} \PYG{o}{+}\PYG{o}{=} \PYG{p}{[}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{incineration}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{]}
    \PYG{k}{if} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{open burning}\PYG{l+s+s2}{\PYGZdq{}} \PYG{o+ow}{in} \PYG{n}{name}\PYG{p}{:}
        \PYG{n}{query}\PYG{p}{[}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{AND}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{]} \PYG{o}{+}\PYG{o}{=} \PYG{p}{[}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{burning}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{]}
    \PYG{k}{if} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{recycling}\PYG{l+s+s2}{\PYGZdq{}} \PYG{o+ow}{in} \PYG{n}{name}\PYG{p}{:}
        \PYG{n}{query}\PYG{p}{[}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{AND}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{]} \PYG{o}{+}\PYG{o}{=} \PYG{p}{[}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{recycling}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{]}
    \PYG{k}{if} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{composting}\PYG{l+s+s2}{\PYGZdq{}} \PYG{o+ow}{in} \PYG{n}{name}\PYG{p}{:}
        \PYG{n}{query}\PYG{p}{[}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{AND}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{]} \PYG{o}{+}\PYG{o}{=} \PYG{p}{[}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{composting}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{]}
    \PYG{k}{if} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{digestion}\PYG{l+s+s2}{\PYGZdq{}} \PYG{o+ow}{in} \PYG{n}{name}\PYG{p}{:}
        \PYG{n}{query}\PYG{p}{[}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{AND}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{]} \PYG{o}{+}\PYG{o}{=} \PYG{p}{[}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{digestion}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{]}
    \PYG{k}{if} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{radioactive}\PYG{l+s+s2}{\PYGZdq{}} \PYG{o+ow}{in} \PYG{n}{name}\PYG{p}{:}
        \PYG{n}{query}\PYG{p}{[}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{AND}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{]} \PYG{o}{+}\PYG{o}{=} \PYG{p}{[}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{radioactive}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{]}
    \PYG{k}{if} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{carbon dioxide}\PYG{l+s+s2}{\PYGZdq{}} \PYG{o+ow}{in} \PYG{n}{name}\PYG{p}{:}
        \PYG{n}{query}\PYG{o}{.}\PYG{n}{update}\PYG{p}{(}
            \PYG{p}{\PYGZob{}}
                \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{OR}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{p}{[}
                    \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{carbon dioxide storage}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}
                    \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{carbon dioxide capture}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}
                    \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{carbon dioxide, captured}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,}
                \PYG{p}{]}
            \PYG{p}{\PYGZcb{}}
        \PYG{p}{)}
        \PYG{n}{query}\PYG{o}{.}\PYG{n}{update}\PYG{p}{(}\PYG{p}{\PYGZob{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{NOT}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{p}{[}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{methane}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{]}\PYG{p}{\PYGZcb{}}\PYG{p}{)}
        \PYG{n}{query}\PYG{o}{.}\PYG{n}{update}\PYG{p}{(}\PYG{p}{\PYGZob{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{AND}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{\PYGZcb{}}\PYG{p}{)}

    \PYG{c+c1}{\PYGZsh{} add the query to the list of queries}
    \PYG{n}{queries\PYGZus{}kg}\PYG{o}{.}\PYG{n}{append}\PYG{p}{(}\PYG{n}{query}\PYG{p}{)}

\PYG{c+c1}{\PYGZsh{} add same queries defined above, now for liquid waste and material}
\PYG{n}{queries\PYGZus{}m3} \PYG{o}{=} \PYG{p}{[}\PYG{p}{]}
\PYG{k}{for} \PYG{n}{q} \PYG{o+ow}{in} \PYG{n}{queries\PYGZus{}kg}\PYG{p}{:}
    \PYG{n}{q} \PYG{o}{=} \PYG{n}{q}\PYG{o}{.}\PYG{n}{copy}\PYG{p}{(}\PYG{p}{)}
    \PYG{n}{q}\PYG{o}{.}\PYG{n}{update}\PYG{p}{(}\PYG{p}{\PYGZob{}}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{unit}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{:} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{cubic meter}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{\PYGZcb{}}\PYG{p}{)}
    \PYG{n}{queries\PYGZus{}m3}\PYG{o}{.}\PYG{n}{append}\PYG{p}{(}\PYG{n}{q}\PYG{p}{)}

\PYG{n}{queries\PYGZus{}waste} \PYG{o}{=} \PYG{n}{queries\PYGZus{}kg} \PYG{o}{+} \PYG{n}{queries\PYGZus{}m3}
\end{sphinxVerbatim}


\subsection{config.queries\_materials module}
\label{\detokenize{configuration_api:module-config.queries_materials}}\label{\detokenize{configuration_api:config-queries-materials-module}}\index{module@\spxentry{module}!config.queries\_materials@\spxentry{config.queries\_materials}}\index{config.queries\_materials@\spxentry{config.queries\_materials}!module@\spxentry{module}}

\subsubsection{queries\_materials Module}
\label{\detokenize{configuration_api:queries-materials-module}}
\sphinxAtStartPar
This module contains the list of materials that will be used to create demand methods in the WasteAndMaterialFootprint tool. The materials are specifically chosen to match with the activities in the ecoinvent v3.9.1 database (and the future databases made with premise) and to align with the EU CRM list 2023. Additional strategic materials are also included, as well as other materials of interest.


\paragraph{Note:}
\label{\detokenize{configuration_api:note}}\begin{itemize}
\item {} 
\sphinxAtStartPar
The search function in \sphinxtitleref{SearchMaterial.py} uses ‘startswith’, so it will catch all activities that start with the material name.

\item {} 
\sphinxAtStartPar
The comma in material names is important for filtering specific activities in the database.

\item {} 
\sphinxAtStartPar
If an intermediate product is included, the inputs and outputs might cancel out, resulting in a zero result.

\end{itemize}


\paragraph{queries\_materials}
\label{\detokenize{configuration_api:queries-materials}}
\sphinxAtStartPar
List of tuples where each tuple contains the activity name (as appears in the database) and its corresponding material category. This list is used for creating demand methods in the WasteAndMaterialFootprint tool.

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{l+s+sd}{\PYGZdq{}\PYGZdq{}\PYGZdq{}}
\PYG{l+s+sd}{queries\PYGZus{}materials Module}
\PYG{l+s+sd}{========================}

\PYG{l+s+sd}{This module contains the list of materials that will be used to create demand methods in the WasteAndMaterialFootprint tool. The materials are specifically chosen to match with the activities in the ecoinvent v3.9.1 database (and the future databases made with premise) and to align with the EU CRM list 2023. Additional strategic materials are also included, as well as other materials of interest.}

\PYG{l+s+sd}{Note:}
\PYG{l+s+sd}{\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{l+s+sd}{\PYGZhy{} The search function in `SearchMaterial.py` uses \PYGZsq{}startswith\PYGZsq{}, so it will catch all activities that start with the material name.}
\PYG{l+s+sd}{\PYGZhy{} The comma in material names is important for filtering specific activities in the database.}

\PYG{l+s+sd}{queries\PYGZus{}materials}
\PYG{l+s+sd}{\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}\PYGZhy{}}
\PYG{l+s+sd}{List of tuples where each tuple contains the activity name (as appears in the database) and its corresponding material category. This list is used for creating demand methods in the WasteAndMaterialFootprint tool.}
\PYG{l+s+sd}{\PYGZdq{}\PYGZdq{}\PYGZdq{}}

\PYG{n}{queries\PYGZus{}materials} \PYG{o}{=} \PYG{p}{[}
    \PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{market for aluminium}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{aluminium}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{p}{,}
    \PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{market for antimony}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{antimony}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{p}{,}
    \PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{market for bauxite}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{bauxite}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{p}{,}
    \PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{market for beryllium}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{beryllium}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{p}{,}
    \PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{market for bismuth}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{bismuth}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{p}{,}
    \PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{market for cadmium}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{cadmium}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{p}{,}
    \PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{market for calcium borates}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{borates}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{p}{,}
    \PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{market for cement}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{cement}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{p}{,}
    \PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{market for cerium}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{cerium}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{p}{,}
    \PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{market for chromium}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{chromium}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{p}{,}
    \PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{market for coal}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{coal}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{p}{,}
    \PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{market for cobalt}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{cobalt}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{p}{,}
    \PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{market for coke}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{coke}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{p}{,}
    \PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{market for copper}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{copper}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{p}{,}
    \PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{market for dysprosium}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{dysprosium}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{p}{,}
    \PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{market for erbium}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{erbium}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{p}{,}
    \PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{market for europium}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{europium}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{p}{,}
    \PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{market for electricity,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{electricity}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{p}{,}
    \PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{market for ferroniobium,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{niobium}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{p}{,}
    \PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{market for fluorspar,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{fluorspar}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{p}{,}
    \PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{market for gadolinium}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{gadolinium}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{p}{,}
    \PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{market for gallium}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{gallium}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{p}{,}
    \PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{market for gold}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{gold}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{p}{,}
    \PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{market for graphite}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{graphite}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{p}{,}
    \PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{market for hafnium}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{hafnium}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{p}{,}
    \PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{market for helium}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{helium}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{p}{,}
    \PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{market for holmium}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{holmium}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{p}{,}
    \PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{market for hydrogen,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{hydrogen}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{p}{,}
    \PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{market for indium}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{indium}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{p}{,}
    \PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{market for latex}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{latex}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{p}{,}
    \PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{market for lithium}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{lithium}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{p}{,}
    \PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{market for magnesium}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{magnesium}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{p}{,}
    \PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{market for natural gas,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{natural gas}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{p}{,}
    \PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{market for nickel}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{nickel}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{p}{,}
    \PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{market for palladium}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{palladium}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{p}{,}
    \PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{market for petroleum}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{petroleum}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{p}{,}
    \PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{market for phosphate}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{phosphate rock}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{p}{,}
    \PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{market for platinum}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{platinum}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{p}{,}
    \PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{market for rare earth}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{rare earth}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{p}{,}
    \PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{market for rhodium}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{rhodium}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{p}{,}
    \PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{market for sand}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{sand}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{p}{,}
    \PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{market for selenium}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{selenium}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{p}{,}
    \PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{market for scandium}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{scandium}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{p}{,}
    \PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{market for silicon}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{silicon}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{p}{,}
    \PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{market for silver}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{silver}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{p}{,}
    \PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{market for sodium borates}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{borates}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{p}{,}
    \PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{market for strontium}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{strontium}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{p}{,}
    \PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{market for tantalum}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{tantalum}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{p}{,}
    \PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{market for tellurium}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{tellurium}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{p}{,}
    \PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{market for tin}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{tin}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{p}{,}
    \PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{market for titanium}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{titanium}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{p}{,}
    \PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{market for uranium}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{uranium}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{p}{,}
    \PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{market for tungsten}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{tungsten}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{p}{,}
    \PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{market for vanadium}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{vanadium}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{p}{,}
    \PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{market for vegetable oil,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{vegetable oil}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{p}{,}
    \PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{market for tap water}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{water}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{p}{,}
    \PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{market for water,}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{water}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{p}{,}
    \PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{market for zinc}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{zinc}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{p}{,}
    \PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{market for zirconium}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{,} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{zirconium}\PYG{l+s+s2}{\PYGZdq{}}\PYG{p}{)}\PYG{p}{,}
\PYG{p}{]}
\end{sphinxVerbatim}


\chapter{Indices and tables}
\label{\detokenize{index:indices-and-tables}}\begin{itemize}
\item {} 
\sphinxAtStartPar
\DUrole{xref,std,std-ref}{genindex}

\item {} 
\sphinxAtStartPar
\DUrole{xref,std,std-ref}{modindex}

\item {} 
\sphinxAtStartPar
\DUrole{xref,std,std-ref}{search}

\end{itemize}


\renewcommand{\indexname}{Python Module Index}
\begin{sphinxtheindex}
\let\bigletter\sphinxstyleindexlettergroup
\bigletter{c}
\item\relax\sphinxstyleindexentry{config.queries\_materials}\sphinxstyleindexpageref{configuration_api:\detokenize{module-config.queries_materials}}
\item\relax\sphinxstyleindexentry{config.queries\_waste}\sphinxstyleindexpageref{configuration_api:\detokenize{module-config.queries_waste}}
\item\relax\sphinxstyleindexentry{config.user\_settings}\sphinxstyleindexpageref{configuration_api:\detokenize{module-config.user_settings}}
\indexspace
\bigletter{w}
\item\relax\sphinxstyleindexentry{WasteAndMaterialFootprint.ExchangeEditor}\sphinxstyleindexpageref{WMFootprint_api:\detokenize{module-WasteAndMaterialFootprint.ExchangeEditor}}
\item\relax\sphinxstyleindexentry{WasteAndMaterialFootprint.ExplodeDatabase}\sphinxstyleindexpageref{WMFootprint_api:\detokenize{module-WasteAndMaterialFootprint.ExplodeDatabase}}
\item\relax\sphinxstyleindexentry{WasteAndMaterialFootprint.FutureScenarios}\sphinxstyleindexpageref{WMFootprint_api:\detokenize{module-WasteAndMaterialFootprint.FutureScenarios}}
\item\relax\sphinxstyleindexentry{WasteAndMaterialFootprint.main}\sphinxstyleindexpageref{WMFootprint_api:\detokenize{module-WasteAndMaterialFootprint.main}}
\item\relax\sphinxstyleindexentry{WasteAndMaterialFootprint.MakeCustomDatabase}\sphinxstyleindexpageref{WMFootprint_api:\detokenize{module-WasteAndMaterialFootprint.MakeCustomDatabase}}
\item\relax\sphinxstyleindexentry{WasteAndMaterialFootprint.MethodEditor}\sphinxstyleindexpageref{WMFootprint_api:\detokenize{module-WasteAndMaterialFootprint.MethodEditor}}
\item\relax\sphinxstyleindexentry{WasteAndMaterialFootprint.SearchMaterial}\sphinxstyleindexpageref{WMFootprint_api:\detokenize{module-WasteAndMaterialFootprint.SearchMaterial}}
\item\relax\sphinxstyleindexentry{WasteAndMaterialFootprint.SearchWaste}\sphinxstyleindexpageref{WMFootprint_api:\detokenize{module-WasteAndMaterialFootprint.SearchWaste}}
\item\relax\sphinxstyleindexentry{WasteAndMaterialFootprint.VerifyDatabase}\sphinxstyleindexpageref{WMFootprint_api:\detokenize{module-WasteAndMaterialFootprint.VerifyDatabase}}
\end{sphinxtheindex}

\renewcommand{\indexname}{Index}
\printindex
\end{document}